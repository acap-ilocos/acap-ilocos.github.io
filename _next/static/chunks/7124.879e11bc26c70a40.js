(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7124],{54364:function(e,n,t){"use strict";var r=t(64836);n.Z=void 0;var i=r(t(64938)),o=t(85893),a=(0,i.default)((0,o.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");n.Z=a},63365:function(e,n,t){"use strict";var r=t(64836);n.Z=void 0;var i=r(t(64938)),o=t(85893),a=(0,i.default)((0,o.jsx)("path",{d:"M15 13V5c0-1.66-1.34-3-3-3S9 3.34 9 5v8c-1.21.91-2 2.37-2 4 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.09-2-4zm-4-2V5c0-.55.45-1 1-1s1 .45 1 1v1h-1v1h1v2h-1v1h1v1h-2z"}),"Thermostat");n.Z=a},48038:function(e,n,t){"use strict";var r=t(64836);n.Z=void 0;var i=r(t(64938)),o=t(85893),a=(0,i.default)([(0,o.jsx)("path",{d:"M4 3h6v2H4zM1 7h5v2H1zm2 12h5v2H3zm10.73-8.39c.75.23 1.3.78 1.57 1.46l4.27-7.11c.65-1.08.3-2.48-.78-3.13-.87-.52-1.99-.41-2.73.29l-3.43 3.21c-.4.37-.63.9-.63 1.45v3.93c.36-.15.98-.33 1.73-.1zm-3.12 1.66c.16-.52.48-.96.89-1.27H3.28C2.02 11 1 12.02 1 13.28c0 1.02.67 1.91 1.65 2.19l4.51 1.29c.53.15 1.1.08 1.58-.21l2.69-1.61c-.77-.62-1.13-1.67-.82-2.67zm11.6 6.34-2.28-4.1c-.27-.48-.73-.83-1.26-.97l-3.18-.8c.03.32 0 .66-.1.99-.32 1.06-1.28 1.77-2.39 1.77-.61 0-.99-.22-1-.22V21c-1.1 0-2 .9-2 2h6c0-1.1-.9-2-2-2v-4.28l4.61 4.61c.89.89 2.33.89 3.22 0 .72-.72.88-1.83.38-2.72z"},"0"),(0,o.jsx)("path",{d:"M12.56 14.43c.79.24 1.63-.2 1.87-1 .24-.79-.2-1.63-1-1.87-.79-.24-1.63.2-1.87 1-.24.79.21 1.63 1 1.87z"},"1")],"WindPower");n.Z=a},16744:function(e,n,t){"use strict";var r=t(88169),i=t(85893);n.Z=(0,r.Z)((0,i.jsx)("path",{d:"M12 20H2v-2h5.75c-.73-2.81-2.94-5.01-5.75-5.74.64-.16 1.31-.26 2-.26 4.42 0 8 3.58 8 8zm10-7.74c-.64-.16-1.31-.26-2-.26-2.93 0-5.48 1.58-6.88 3.93.29.66.53 1.35.67 2.07.13.65.2 1.32.2 2h8v-2h-5.75c.74-2.81 2.95-5.01 5.76-5.74zm-6.36-1.24c.78-2.09 2.23-3.84 4.09-5C15.44 6.16 12 9.67 12 14v.02c.95-1.27 2.2-2.3 3.64-3zm-4.22-2.17C10.58 6.66 8.88 4.89 6.7 4 8.14 5.86 9 8.18 9 10.71c0 .21-.03.41-.04.61.43.24.83.52 1.22.82.21-1.18.65-2.29 1.24-3.29z"}),"Grass")},66242:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(87462),i=t(63366),o=t(67294),a=t(86010),c=t(27192),l=t(11496),s=t(33616),u=t(55113),d=t(28979);function p(e){return(0,d.Z)("MuiCard",e)}(0,t(76087).Z)("MuiCard",["root"]);var f=t(85893);const x=["className","raised"],h=(0,l.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,n)=>n.root})((()=>({overflow:"hidden"})));var m=o.forwardRef((function(e,n){const t=(0,s.Z)({props:e,name:"MuiCard"}),{className:o,raised:l=!1}=t,u=(0,i.Z)(t,x),d=(0,r.Z)({},t,{raised:l}),m=(e=>{const{classes:n}=e;return(0,c.Z)({root:["root"]},p,n)})(d);return(0,f.jsx)(h,(0,r.Z)({className:(0,a.Z)(m.root,o),elevation:l?8:void 0,ref:n,ownerState:d},u))}))},67615:function(e,n,t){"use strict";t.d(n,{d:function(){return i}});var r=t(67294);function i(e,n){const t=(0,r.useRef)(n);(0,r.useEffect)((function(){n!==t.current&&null!=e.attributionControl&&(null!=t.current&&e.attributionControl.removeAttribution(t.current),null!=n&&e.attributionControl.addAttribution(n)),t.current=n}),[e,n])}},20022:function(e,n,t){"use strict";t.d(n,{RA:function(){return a},LE:function(){return c},G5:function(){return l}});var r=t(67294),i=t(73935),o=t(60557);function a(e){function n(n,t){const{instance:i,context:a}=e(n).current;return(0,r.useImperativeHandle)(t,(()=>i)),null==n.children?null:r.createElement(o.UO,{value:a},n.children)}return(0,r.forwardRef)(n)}function c(e){function n(n,t){const[o,a]=(0,r.useState)(!1),{instance:c}=e(n,a).current;(0,r.useImperativeHandle)(t,(()=>c)),(0,r.useEffect)((function(){o&&c.update()}),[c,o,n.children]);const l=c._contentNode;return l?(0,i.createPortal)(n.children,l):null}return(0,r.forwardRef)(n)}function l(e){function n(n,t){const{instance:i}=e(n).current;return(0,r.useImperativeHandle)(t,(()=>i)),null}return(0,r.forwardRef)(n)}},60557:function(e,n,t){"use strict";t.d(n,{cV:function(){return i},UO:function(){return a},mE:function(){return c}});var r=t(67294);const i=1,o=(0,r.createContext)(null),a=o.Provider;function c(){const e=(0,r.useContext)(o);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}},49420:function(e,n,t){"use strict";t.d(n,{y:function(){return o}});var r=t(67294),i=t(60557);function o(e){return function(n){const t=(0,i.mE)(),o=e(n,t),{instance:a}=o.current,c=(0,r.useRef)(n.position),{position:l}=n;return(0,r.useEffect)((function(){return a.addTo(t.map),function(){a.remove()}}),[t.map,a]),(0,r.useEffect)((function(){null!=l&&l!==c.current&&(a.setPosition(l),c.current=l)}),[a,l]),o}}},4777:function(e,n,t){"use strict";t.d(n,{I:function(){return i}});var r=t(67294);function i(e,n){return null==n?function(n,t){return(0,r.useRef)(e(n,t))}:function(t,i){const o=(0,r.useRef)(e(t,i)),a=(0,r.useRef)(t),{instance:c}=o.current;return(0,r.useEffect)((function(){a.current!==t&&(n(c,t,a.current),a.current=t)}),[c,t,i]),o}}},21350:function(e,n,t){"use strict";t.d(n,{t:function(){return i}});var r=t(67294);function i(e,n){const t=(0,r.useRef)();(0,r.useEffect)((function(){return null!=n&&e.instance.on(n),t.current=n,function(){null!=t.current&&e.instance.off(t.current),t.current=null}}),[e,n])}},31467:function(e,n,t){"use strict";t.d(n,{vm:function(){return f},dW:function(){return x},SO:function(){return h},Au:function(){return m},Lf:function(){return v}});var r=t(20022),i=t(49420),o=t(4777),a=t(96810),c=t(67615),l=t(60557),s=t(21350),u=t(75828);var d=t(67294);function p(e){return function(n){const t=(0,l.mE)(),r=e((0,u.q)(n,t),t);return(0,s.t)(r.current,n.eventHandlers),(0,a.g)(r.current,t),function(e,n){const t=(0,d.useRef)();(0,d.useEffect)((function(){if(n.pathOptions!==t.current){const r=n.pathOptions??{};e.instance.setStyle(r),t.current=r}}),[e,n])}(r.current,n),r}}function f(e){const n=(0,o.I)((function(n,t){return{instance:e(n),context:t}})),t=(0,i.y)(n);return(0,r.G5)(t)}function x(e,n){const t=(0,o.I)(e,n),i=(0,a.u)(t);return(0,r.RA)(i)}function h(e,n){const t=function(e,n){return function(t,r){const i=(0,l.mE)(),o=e((0,u.q)(t,i),i);return(0,c.d)(i.map,t.attribution),(0,s.t)(o.current,t.eventHandlers),n(o.current,i,t,r),o}}((0,o.I)(e),n);return(0,r.LE)(t)}function m(e,n){const t=p((0,o.I)(e,n));return(0,r.RA)(t)}function v(e,n){const t=(0,o.I)(e,n),i=(0,a.u)(t);return(0,r.G5)(i)}},46329:function(e,n,t){"use strict";function r(e,n,t){const{opacity:r,zIndex:i}=n;null!=r&&r!==t.opacity&&e.setOpacity(r),null!=i&&i!==t.zIndex&&e.setZIndex(i)}t.d(n,{I:function(){return r}})},96810:function(e,n,t){"use strict";t.d(n,{g:function(){return l},u:function(){return s}});var r=t(67294),i=t(67615),o=t(60557),a=t(21350),c=t(75828);function l(e,n){(0,r.useEffect)((function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){var t;null==(t=n.layerContainer)||t.removeLayer(e.instance),n.map.removeLayer(e.instance)}}),[n,e])}function s(e){return function(n){const t=(0,o.mE)(),r=e((0,c.q)(n,t),t);return(0,i.d)(t.map,n.attribution),(0,a.t)(r.current,n.eventHandlers),l(r.current,t),r}}},75828:function(e,n,t){"use strict";function r(e,n){const t=e.pane??n.pane;return t?{...e,pane:t}:e}t.d(n,{q:function(){return r}})},27840:function(e,n,t){"use strict";var r=t(85893),i=t(15861);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=(0,t(11496).ZP)((function(e){return(0,r.jsx)(i.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({component:"p",variant:"caption"},e))}))((function(e){var n=e.theme;return{color:n.palette.text.secondary,"& a":{color:n.palette.green.dark,textDecoration:"none"},"& a:visited":{color:n.palette.green.dark},"& a:hover, span:hover":{textDecoration:"underline"}}}));n.Z=a},37634:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(85893),i=t(25675),o=t(87357),a=t(15861),c=t(26660),l={container:{textAlign:"center",minHeight:"200px",width:"100%",border:"4px solid rgba(0, 0, 0, 0.11)",borderRadius:function(e){return e.spacing(2)},color:function(e){return e.palette.text.secondary},borderStyle:"dashed",padding:function(e){return e.spacing(2)}}};var s=function(e){var n=e.message,t=void 0===n?"Failed to load data":n,s=e.style,u=void 0===s?{}:s;return(0,r.jsxs)(o.Z,{sx:l.container,style:u,children:[(0,r.jsx)(i.default,{unoptimized:!0,src:(0,c.assetPrefixer)("images/icons/empty-state-light.svg"),height:100,width:120,loader:c.imageLoader,alt:"Empty data"}),(0,r.jsx)(a.Z,{variant:"subtitle1",children:t})]})}},53577:function(e,n,t){"use strict";var r=t(85893),i=t(87357),o=t(98456);n.Z=function(e){var n=e.text,t=void 0===n?"":n,a=e.size,c=void 0===a?24:a,l=e.children;return(0,r.jsxs)(i.Z,{sx:{width:"100%",textAlign:"center",height:"18vh"},children:[(0,r.jsxs)(i.Z,{sx:{width:"100%",textAlign:"center",marginTop:function(e){return e.spacing(6)},marginBottom:"32px",display:"flex",justifyContent:"center"},children:[(0,r.jsx)("span",{children:""!==t?t:"Loading..."})," \xa0",(0,r.jsx)(o.Z,{size:c})]}),l]})}},17124:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Re}});var r=t(34051),i=t.n(r),o=t(85893),a=t(9669),c=t.n(a),l=t(67294),s=t(9473),u=t(4936),d=t(98396),p=t(60795),f=t(44526),x=t(74284),h=t(72471),m=t(27409),v=t(97651),g=t(87357),y=t(41664),b=t(25675),j=t(76295),w=t(66242),S=t(98456),C=t(86886),Z=t(61903),O=t(15861),z=t(26660),k={standard:{width:{xs:"72px",sm:"66px"},minWidth:{xs:"72px",sm:"66px",xl:"85px"},minHeight:"55px",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:function(e){return e.spacing(1)},margin:"2px",borderRadius:"5px","& div":{textAlign:"center"},"& .temp-label":{fontSize:{xs:"10px",xl:"12px"}},"& .wind-metrics":{display:"flex",justifyContent:"space-between"},"& .daily-date":{fontSize:{xs:"10px",sm:"9px",xl:"11px"}}},daily:{backgroundColor:"rgba(255, 255, 255, 1.0)"},today:{backgroundColor:"rgba(12, 110, 175, 0.2)"}},E=t(63365),P=t(48038);function I(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function A(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){I(e,n,t[n])}))}return e}var L=function(e){var n=e.dailyweather,t=(new Date).getDate()==n.day.slice(-2);return(0,o.jsxs)(g.Z,{sx:A({},k.standard,t?k.today:k.daily),children:[(0,o.jsx)("div",{className:"daily-date",children:n.day}),(0,o.jsx)("div",{children:(0,o.jsx)(b.default,{unoptimized:!0,src:n.icon,height:30,width:30,loader:z.imageLoader,alt:n.day})}),(0,o.jsxs)("div",{className:"temp-label",children:[(0,o.jsxs)("div",{className:"wind-metrics",children:[(0,o.jsx)(E.Z,{sx:{fontSize:{xs:14,sm:16,md:20,xl:24}}}),(0,o.jsxs)("strong",{children:[n.temp_mean,"\xb0"]})]}),(0,o.jsxs)("div",{className:"wind-metrics",children:[(0,o.jsx)(P.Z,{sx:{fontSize:{xs:14,sm:16,md:20,xl:24}}}),n.wind_speed]})]})]})},M=t(27840);var _,D,R,T={card:{backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",minWidth:{xs:"200px",sm:"385px",xl:"500px"},maxWidth:{xs:"385px"},marginTop:function(e){return e.spacing(3)},padding:function(e){return e.spacing(2)},borderRadius:function(e){return e.spacing(1)},"& h5":{marginBottom:function(e){return e.spacing(2)},fontSize:"18px"},"& h6":{fontSize:"16px"},"& .span-source":{"& a":{color:function(e){return e.palette.primary.main},textDecoration:"none"},"& a:hover":{color:function(e){return e.palette.third.main}}}},cardInfo:{backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",width:"100%",maxWidth:"490px",padding:function(e){return e.spacing(1)},marginTop:function(e){return e.spacing(3)},fontSize:{xs:"11px",sm:"14px",lg:"16px"},"& td":{padding:(_={xs:0},D="xs",R="1px",D in _?Object.defineProperty(_,D,{value:R,enumerable:!0,configurable:!0,writable:!0}):_[D]=R,_)}},autocomplete:{maxWidth:"100%",marginTop:function(e){return e.spacing(1)}},weathertoday:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"10px",flexDirection:{xs:"column",b4xs:"row",sm:"row"},"& .icon-temp":{display:"flex",alignItems:"center",gap:"10px"},"& .temperature":{fontSize:"30px",fontWeight:"bold"},"& .weather-details":{paddingTop:"12px",marginLeft:"16px",fontSize:{xs:"10px",sm:"14px"}}},info:{minWidth:"285px",minHeight:"90px",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(2)},textAlign:"center","& p":{color:"red",fontSize:{xs:"11px",sm:"14px",xl:"16px"}}}},N=t(901),W=t(87918),F=t(82191),B=t(88169),H=(0,B.Z)((0,o.jsx)("path",{d:"M15 13V5c0-1.66-1.34-3-3-3S9 3.34 9 5v8c-1.21.91-2 2.37-2 4 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.09-2-4zm-4-2V5c0-.55.45-1 1-1s1 .45 1 1v1h-1v1h1v2h-1v1h1v1h-2z"}),"Thermostat"),U=(0,B.Z)((0,o.jsx)("path",{d:"M14.5 17c0 1.65-1.35 3-3 3s-3-1.35-3-3h2c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1H2v-2h9.5c1.65 0 3 1.35 3 3zM19 6.5C19 4.57 17.43 3 15.5 3S12 4.57 12 6.5h2c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S16.33 8 15.5 8H2v2h13.5c1.93 0 3.5-1.57 3.5-3.5zm-.5 4.5H2v2h16.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5v2c1.93 0 3.5-1.57 3.5-3.5S20.43 11 18.5 11z"}),"Air");function G(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function V(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){G(e,n,t[n])}))}return e}var Y=function(e){var n=e.sel_options,t=e.weather,r=e.forecast,i=e.record,a=e.isSmallScreen,c=void 0!==a&&a,u=e.onSelectItemChange,d=(0,l.useState)(0),p=d[0],f=d[1],x=(0,s.v9)((function(e){return e.provinces})),h=(0,s.v9)((function(e){return e.municipalities})),m=(0,s.v9)((function(e){return e.tendayweather})),v=(0,l.useState)(!0),k=v[0],E=v[1],P=(0,l.useState)(!0)[0];(0,l.useEffect)((function(){var e=function(){return f((window.innerWidth-I())/2+32)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var I=function(){var e=document.getElementById("header-contents");return e?e.getBoundingClientRect().width:1200};return(0,l.useEffect)((function(){var e=x.status!==N.G.FULLFILLED||m.status!==N.G.FULLFILLED;E(e)}),[x.status,m.status,x.error,m.error]),(0,o.jsxs)(g.Z,{sx:{position:"absolute",top:function(e){return e.constants.navbar.outerHeight-35},right:p,marginLeft:"28px",zIndex:400},className:"mui-fixed",children:[(0,o.jsxs)(w.Z,{variant:"outlined",sx:T.card,style:{backgroundColor:"rgba(255, 255, 255, 0.9)"},children:[(0,o.jsxs)(g.Z,{children:[(0,o.jsxs)(g.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)(g.Z,{children:(0,o.jsx)(O.Z,{variant:"body1",fontSize:18,sx:{fontWeight:"bold"},children:"Ilocos Region Weather Today"})}),t.datenow?(0,o.jsx)(W.Z,{size:"small",color:"primary",sx:{fontWeight:600,fontSize:11},label:t.datenow}):(0,o.jsx)(o.Fragment,{})]}),P&&(0,o.jsx)(j.Z,{sx:{marginTop:1},disablePortal:!0,id:"province",value:x.province,disabled:0===x.ids.length||k,options:Object.values(x.entities),size:"small",renderInput:function(e){return(0,o.jsx)(Z.Z,V({},e,{label:null===x.province?"Select a province":"Province"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},onChange:function(e,n){return u(e,V({},n,{from:"province"}))}}),P&&(0,o.jsx)(j.Z,{sx:{marginTop:1},disablePortal:!0,id:"municipality",value:h.municipality,disabled:0===h.ids.length||k,options:Object.values(h.entities),size:"small",renderInput:function(e){return(0,o.jsx)(Z.Z,V({},e,{label:null===h.municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},getOptionDisabled:function(e){return void 0!==e.iscalendar},onChange:function(e,n){return u(e,V({},n,{from:"municipality",province:x.province}))}})]}),n.loading&&(0,o.jsx)(g.Z,{sx:T.info,style:{minWidth:c?window.innerWidth-80:"285px"},children:(0,o.jsx)(S.Z,{size:24,color:"secondary"})}),P&&""===n.error&&!n.loading&&null!==n.sel_municipality&&""!==t.description&&(0,o.jsxs)(g.Z,{sx:V({},T.weathertoday,{display:"grid",gridTemplateColumns:"2fr 1fr",gap:0,alignItems:"center"}),children:[(0,o.jsxs)(g.Z,{sx:{display:"flex-column",alignItems:"center",gap:1},children:[(0,o.jsx)(g.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,o.jsx)(b.default,{unoptimized:!0,src:t.icon,height:75,width:75,loader:z.imageLoader,alt:t.description})}),(0,o.jsx)(g.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,o.jsx)(W.Z,{color:"primary",size:"small",label:t.description?"".concat(t.description.charAt(0).toUpperCase()).concat(t.description.slice(1)):""})})]}),(0,o.jsxs)(g.Z,{sx:{display:"flex-column",alignItems:"center",paddingBlock:1},children:[(0,o.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",gap:1,textAlign:"center"},children:[(0,o.jsx)(H,{sx:{fontSize:32,color:t.temp>=20&&t.temp<=22?"#8b8b8b":t.temp>22&&t.temp<=25?"#ffaf4d":t.temp>25?"#f18b8b":t.temp>=10&&t.temp<=18?"#819bd7":t.temp<10?"#765eff":"#8f8f8f"}}),(0,o.jsx)(W.Z,{variant:"body1",size:"small",label:"".concat(t.temp,"\xb0C")})]}),(0,o.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",gap:1,textAlign:"center"},children:[(0,o.jsx)(U,{sx:{fontSize:32,color:"#8f8f8f"}}),(0,o.jsx)(W.Z,{size:"small",label:t.wind})]}),(0,o.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",gap:1,textAlign:"center"},children:[(0,o.jsx)(F.WaterDrop,{sx:{fontSize:32,color:"#819bd7"}}),(0,o.jsx)(W.Z,{size:"small",label:t.humidity})]})]})]}),""===n.error&&!n.loading&&null===n.sel_municipality&&(0,o.jsx)(g.Z,{sx:T.info,style:{minWidth:c?window.innerWidth-80:"285px"},children:(0,o.jsx)("p",{children:"\xa0"})}),""!==n.error&&(0,o.jsx)(g.Z,{sx:T.info,style:{minWidth:c?window.innerWidth-80:"285px"},children:(0,o.jsx)("p",{children:n.error})})]}),r.length>0&&(0,o.jsxs)(w.Z,{variant:"outlined",sx:T.card,style:{marginTop:"10px",paddingBottom:"2px"},hidden:!P,children:[(0,o.jsx)(O.Z,{variant:"h6",sx:{fontWeight:"bold"},children:"10-Day Rainfall Forecast"}),(0,o.jsxs)(M.Z,{sx:{marginBottom:"16px",fontSize:"11px"},children:["View the full 10-Day Weather Forecast"," ",(0,o.jsx)(y.default,{href:"/weather-services",children:"here"}),"."]}),(0,o.jsx)(C.ZP,{container:!0,children:r.map((function(e,n){return(0,o.jsx)(C.ZP,{item:!0,children:(0,o.jsx)(L,{dailyweather:e})},"daily-".concat(n))}))}),(0,o.jsxs)(O.Z,{variant:"caption",style:{fontSize:"10px"},className:"span-source",children:["source:"," ",(0,o.jsx)(y.default,{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/10-day-climate-forecast",children:"PAGASA's 10-Day Climate Forecast"})]})]}),c&&null!==i&&(0,o.jsx)(w.Z,{variant:"outlined",sx:T.cardInfo,children:(0,o.jsx)("table",{children:(0,o.jsx)("tbody",{children:["Barangay","Municipality","Province","Association"].map((function(e,n){return["lat","lon"].includes(e)?(0,o.jsx)("tr",{},n):(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsxs)("b",{children:[e,":"]})}),(0,o.jsx)("td",{children:i[e.toLowerCase()]})]},n)}))})})})]})},Q=t(18217),q=t(23549),J=t(56867),X=t(1902);function K(e,n,t,r,i,o,a){try{var c=e[o](a),l=c.value}catch(s){return void t(s)}c.done?n(l):Promise.resolve(l).then(r,i)}function $(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){K(o,r,i,a,c,"next",e)}function c(e){K(o,r,i,a,c,"throw",e)}a(void 0)}))}}function ee(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ne(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ee(e,n,t[n])}))}return e}var te={sel_municipality:null,sel_province:"",loading:!0,error:""},re={icon:"https://openweathermap.org/img/wn/10d@2x.png",temp:"00",pressure:"0000 hPa",humidity:"0%",wind:"00 meter/sec"};var ie=function(e){var n=e.record,t=e.isSmallScreen,r=e.onSelectMunicipality,a=(0,l.useState)(te),c=a[0],u=a[1],d=(0,l.useState)(re),p=d[0],f=d[1],x=(0,l.useState)([]),h=x[0],m=x[1],v=(0,l.useState)(!1),g=v[0],y=v[1],b=(0,s.I0)(),j=(0,s.v9)((function(e){return e.provinces})),w=j.ids,S=j.entities,C=j.municipalities,Z=j.province,O=(0,s.v9)((function(e){return e.municipalities})).municipality,z=(0,s.v9)((function(e){return e.tendayweather})),k=z.ids,E=z.entities,P=z.status;(0,l.useEffect)((function(){b((0,Q.QA)(null))}),[b]),(0,l.useEffect)((function(){w.length>0&&(b((0,q.Wn)(Object.values(S)[0])),b((0,J.R)(Object.values(S)[0].label)).unwrap().then((function(){y(!0)})))}),[b,w,S]),(0,l.useEffect)((function(){if(k.length>0&&P===N.G.FULLFILLED&&g&&null!==Z){var e=null;if(O)e=O;else{var n=Object.keys(C).find((function(e){return e===Z.label}));n&&C[n].length>0&&(e=C[n][0])}b((0,Q.X4)(C[Z.label]||[])),b((0,Q.QA)(e))}}),[b,k,E,P,g,O,C,Z]),(0,l.useEffect)((function(){null!==O&&g&&u((function(e){return ne({},e,{sel_province:Z,sel_municipality:O})}))}),[b,O,Z,E,P,g]),(0,l.useEffect)((function(){if(P===N.G.FULLFILLED&&null!==c.sel_municipality&&0===h.length)try{r(c.sel_municipality.label,c.sel_province.label);var e=Object.values(E).find((function(e){return e.municipality===c.sel_municipality.label}));if(e){var n=JSON.parse(e.data),t=(new Date).toDateString(),i=n.find((function(e){return e.day_format===t.substring(0,t.length-5)}))||n[0],o={icon:void 0!==X.Sx.rainfall[i.rainfall]?"images/icons/weather/newicons/".concat(X.Sx.rainfall[i.rainfall]):"images/icons/weather/blank_weather.png",temp:Math.round(i.tmean),precipitation:null,humidity:"".concat(L(i.humidity),"%"),datenow:t,wind:"".concat(L(i.wspeed)," mps"),description:"".concat(M(i.rainfall),", ").concat(M(i.cover))},a=[];n.forEach((function(e){var n=new Date("".concat(e.day_format,", ").concat((new Date).getFullYear())),t={day:e.day_format,wind_speed:L(e.wspeed),temp_mean:L(e.tmean),icon:void 0!==e.rainfall?"images/icons/weather/newicons/".concat(X.Sx.rainfall[e.rainfall]):"images/icons/weather/blank_weather.png",date:n.toLocaleDateString("en-US"),description:""};a.push(t)})),f(o),m(a),u((function(e){return ne({},e,{loading:!1,error:""})}))}}catch(l){u((function(e){return ne({},e,{loading:!1,error:l.message})}))}}),[P,E,S,h,c.sel_municipality,c.sel_province.label,r]);var I=(0,l.useCallback)(function(){var e=$(i().mark((function e(n,t){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=C[t.label],void 0!==(o=r.find((function(e){return e.label===n})))){e.next=4;break}return e.abrupt("return");case 4:"City of San Fernando"===o.id&&(o.id="San Fernando City"),m([]),u(ne({},c,{sel_municipality:o,sel_province:t,loading:!0,error:""})),b((0,J.R)(t.label));case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[C,c,b]),A=function(){var e=$(i().mark((function e(n,t){var o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.label,a=t.from,!o){e.next=21;break}e.t0=a,e.next="province"===e.t0?5:"municipality"===e.t0?9:18;break;case 5:return b((0,q.Wn)(t)),b((0,J.R)(o)),b((0,Q.X4)([])),e.abrupt("break",19);case 9:if(b((0,Q.QA)({id:t.id,label:t.label,iscalendar:t.iscalendar})),void 0!==t.id){e.next=16;break}return u(ne({},c,{sel_municipality:null,loading:!1})),f(re),m([]),r(null),e.abrupt("return");case 16:return I(t.label,null===t||void 0===t?void 0:t.province),e.abrupt("break",19);case 18:return e.abrupt("break",19);case 19:e.next=30;break;case 21:e.t1=a,e.next="province"===e.t1?24:"municipality"===e.t1?27:29;break;case 24:return b((0,q.jg)()),b((0,Q.X4)([])),e.abrupt("break",30);case 27:return b((0,Q.QA)(null)),e.abrupt("break",30);case 29:return e.abrupt("break",30);case 30:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),L=function(e){return Math.round(100*(e+Number.EPSILON))/100},M=function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")};return(0,o.jsx)(Y,{sel_options:c,weather:p,forecast:h,record:n,isSmallScreen:t,onSelectItemChange:A})},oe=t(99108),ae=t.n(oe);function ce(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var le=function(e){var n=e.record,r=(0,l.useState)(null),i=r[0],a=r[1],c=(0,l.useState)(null),s=c[0],u=c[1],d=(0,l.useRef)(null);return(0,l.useEffect)((function(){try{var e=t(45243);d.current=new e.Icon({iconUrl:"images/icons/marker/locator.svg",iconSize:[50,50],iconAnchor:[25,50]})}catch(n){d.current=null}}),[]),(0,l.useEffect)((function(){a(null!==n?[n.lat,n.lon]:null),u(n)}),[n]),null===i?null:(0,o.jsx)(m.J,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ce(e,n,t[n])}))}return e}({position:i},d.current?{icon:d.current}:{},{eventHandlers:{mouseover:function(){a(null)},click:function(){a(null)}},children:(0,o.jsx)(v.u,{className:ae().tooltipCustom,permanent:!0,children:(0,o.jsx)("table",{style:{width:"100%"},children:(0,o.jsx)("tbody",{children:["Barangay","Municipality","Province","Association"].map((function(e,n){return["lat","lon"].includes(e)?(0,o.jsx)("tr",{},n):(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsxs)("b",{children:[e,":"]})}),(0,o.jsx)("td",{children:s[e.toLowerCase()]})]},n)}))})})})}))},se=[{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",name:"Street Map",attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"},{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",name:"Topography Map",attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'},{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",name:"Light",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'},{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.png",name:"Terrain Map",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg",name:"Watercolor",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",name:"Satellite Map",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",name:"Shaded Relief",attribution:"Tiles &copy; Esri &mdash; Source: Esri"},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/Ocean_Basemap/MapServer/tile/{z}/{y}/{x}",name:"Ocean",attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}],ue={map:{width:"100%",height:"calc(100vh - 88px - 519px)",maxWidth:function(e){return e.breakpoints.xl}}},de=t(47426),pe=t(2734),fe=t(55113),xe=t(93946),he=t(54364),me=t(26613),ve=t(38885),ge=t(32848),ye={wrapper:{marginTop:function(e){return e.spacing(8)},marginBottom:function(e){return e.spacing(12)}},autoMuni:{marginTop:function(e){return e.spacing(2)}},card:{height:{xs:"unset",md:"640px !important"},backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(98, 19, 19, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",minHeight:"640px",minWidth:{xs:"200px",sm:"500px"},marginTop:function(e){return e.spacing(5)},padding:function(e){return e.spacing(2)},borderRadius:function(e){return e.spacing(1)},"& h5, h6":{marginBottom:function(e){return e.spacing(2)}}},calendar:{width:"100%",alignItems:"center","& .cropcal-cropname":{fontSize:{xs:"8px !important",sm:"10px !important",md:"unset !important"},whiteSpace:{xs:"unset",sm:"nowrap"}},"& .calendar-header-csystem":{fontSize:{xs:"12px",md:"16px"},textAlign:"center","& h6":{fontSize:{xs:"11px",sm:"unset"}}},"& .calendar-header-months":{display:"flex",fontSize:{xs:"12px",md:"0.8rem"},"& div":{width:"100%",textAlign:"center"},"& .monthlabels":{backgroundColor:"#092139",color:"#fff",padding:{xs:"8px 0 8px 0",sm:"8px 8px 8px 8px"}}},"& .cal-mo-container":{height:"24px",display:"flex","& div":{width:"100%",textAlign:"center"}},"& .cropCal0":{backgroundColor:"#996633"},"& .cropCal1":{backgroundColor:"#CAEDFB"},"& .cropCal2":{backgroundColor:"#DAF2D0"},"& .cropCal3":{backgroundColor:"#B5E6A2"},"& .cropCal4":{backgroundColor:"#8ED973"},"& .cropCal5":{backgroundColor:"#3C7D22"},"& .cropCal6":{backgroundColor:"#104861"},"& .cropCal7":{backgroundColor:"#DC143C"},"& .cropCal8":{backgroundColor:"#4682B4"},"& .cropCal9":{backgroundColor:"#32CD32"},"& .cropCal10":{backgroundColor:"#fcf8e3"},"& .cropCal11":{backgroundColor:"#3498db"},"& .cropCal12":{backgroundColor:"#A1FF33"},"& .cropCal13":{backgroundColor:"#33FFCC"},"& .cropCal14":{backgroundColor:"#ff5733"},"& .cropCal15":{backgroundColor:"#f7ecb5"},"& .cropCalnocolor, .cropCalbkank":{backgroundColor:"#f7f7ff"},cellBorderColor:{cropCal0:"#996633",cropCal1:"#CAEDFB",cropCal2:"#DAF2D0",cropCal3:"#B5E6A2",cropCal4:"#8ED973",cropCal5:"#3C7D22",cropCal6:"#104861",cropCal7:"#DC143C",cropCal8:"#4682B4",cropCal9:"#32CD32",cropCal10:"#fcf8e3",cropCal11:"#3498db",cropCal12:"#A1FF33",cropCal13:"#33FFCC",cropCal14:"#ff5733",cropCal15:"#f7ecb5",cropCalnocolor:"#f7f7ff",cropCalbkank:"rgba(0, 0, 0, 0.4)"}},legend:{"& ul":{listStyle:"none","& li":{marginRight:"10px",fontSize:"14px"},span:{border:"1px solid #ccc",float:"left",width:"14px",height:"14px",margin:"4px",borderRadius:"2px"}}},errorMsg:{fontSize:"12px"},infoMsg:{fontSize:"12px",textAlign:"center"}},be=t(18091),je=t(59390),we=t(53577),Se=t(37634),Ce=t(16744);function Ze(e,n,t,r,i,o,a){try{var c=e[o](a),l=c.value}catch(s){return void t(s)}c.done?n(l):Promise.resolve(l).then(r,i)}function Oe(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){Ze(o,r,i,a,c,"next",e)}function c(e){Ze(o,r,i,a,c,"throw",e)}a(void 0)}))}}function ze(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ke(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ze(e,n,t[n])}))}return e}var Ee=function(e){var n,t,r,a=e.province,c=e.municipality,s=e.overlayPos,u=(0,ve.Z)(!0).cropList,p=(0,l.useState)(!0),f=p[0],x=p[1],h=(0,l.useState)(""),m=h[0],v=h[1],y=(0,l.useState)([]),b=y[0],j=y[1],Z=(0,l.useState)(null),z=Z[0],k=Z[1],E=(0,l.useState)(0),P=E[0],I=E[1],A=(0,l.useState)([]),L=A[0],M=A[1],_=(0,l.useRef)(null),D=(0,je.Z)(a,z),R=D.cropcalendar,T=D.cropStages,N=void 0===T?{}:T,F=D.loading,B=Object.values(N||{}).sort((function(e,n){return e.index-n.index})),H=(0,be.Z)(b,N),U=H.stagesforviz,G=void 0===U?[]:U,V=H.error,Y=void 0===V?"":V,Q=(0,pe.Z)(),q=(0,d.Z)(Q.breakpoints.down("sm")),J=Array.isArray(G)&&G.length>0&&Object.values(de.re).every((function(e){return G.every((function(n){var t=n[e.code];return Array.isArray(t)&&2===t.length&&"cropCalnocolor"===t[0]&&"cropCalnocolor"===t[1]}))}));return(0,l.useEffect)((function(){x(F)}),[F]),(0,l.useEffect)((function(){v(Y||"")}),[Y]),(0,l.useEffect)((function(){z||(L&&L.length>0?(k(L[0].name||L[0]),I(0)):(!a||!c)&&u&&u.length>0&&(k(u[0].name||u[0]),I(0)))}),[L,u,z,a,c]),(0,l.useEffect)((function(){if(u&&0!==u.length){if(a&&c){var e=!0,n=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],t=function(){var t=Oe(i().mark((function t(){var r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all(u.map(function(){var e=Oe(i().mark((function e(t){var r,o,l,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t&&t.name||t,e.prev=1,e.next=4,(0,ge.ad)(a,r);case 4:return o=e.sent,s=null!==(l=null===o||void 0===o?void 0:o.data)&&void 0!==l?l:{},u=["data1","data2","data3"].some((function(e){var t,i=(null!==(t=s[e])&&void 0!==t?t:[]).find((function(e){return e&&e.municipality===c&&(e.crop===r||!0)}));return!!i&&n.some((function(e){var n=i[e];return n&&"none,none"!==String(n).trim().toLowerCase()}))})),e.abrupt("return",u);case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n){return e.apply(this,arguments)}}()));case 3:if(r=t.sent,e){t.next=6;break}return t.abrupt("return");case 6:o=u.filter((function(e,n){return r[n]})),M(o.length>0?o:u),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e&&M(u);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}M(u)}else M([])}),[u,a,c]),(0,l.useEffect)((function(){if(x(!0),R&&R.data1){var e=null;R.data1.forEach((function(n,t){if(n.municipality===c&&n.crop===z){var r=n,i=R.data2?R.data2[t]:null,o=R.data3?R.data3[t]:null;e=[r,i,null!==o&&o]}})),j(e||[]),x(!1)}else j([])}),[R,c,z]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(w.Z,{variant:"outlined",sx:{position:"absolute",top:465,zIndex:400,opacity:.9,padding:1,marginX:q?0:2,minHeight:150,width:q?"100%":"calc(50% - 32px)",borderRadius:3},className:"mui-fixed",children:[q?(0,o.jsxs)(O.Z,{variant:"subtitle2",fontWeight:600,align:"left",children:[c,", ",a," - ",z]}):(0,o.jsxs)(O.Z,{variant:"h6",align:"left",children:[c,", ",a," - ",z]}),(0,o.jsx)(g.Z,{sx:{minWidth:"100%"},children:f&&""===m?(0,o.jsx)(we.Z,{text:"Loading data..."}):null!==b&&void 0!==b||null===c||null===a?null===b||0===G.length||J?J||0===G.length?(0,o.jsx)(g.Z,{sx:ye.infoMsg,children:"No Crop Calendar Data Available for this Crop."}):""!==m?(0,o.jsx)(Se.Z,{message:"Error loading data."}):(0,o.jsx)(g.Z,{sx:ye.infoMsg,children:"Please select a province and a municipality."}):(0,o.jsxs)(g.Z,{sx:{width:"100%"},children:[(0,o.jsxs)(C.ZP,{container:!0,sx:ye.calendar,children:[(0,o.jsx)(C.ZP,{item:!0,xs:1,md:2,className:"calendar-header-csystem"}),(0,o.jsx)(C.ZP,{item:!0,xs:11,md:10,className:"calendar-header-months",children:Object.values(de.re).map((function(e,n){return(0,o.jsx)(g.Z,{className:"monthlabels",children:q?(0,o.jsx)("span",{children:e.format.substring(0,1)}):(0,o.jsx)("span",{children:e.format.substring(0,3)})},"cal-mo-".concat(n))}))})]}),(0,o.jsx)("div",{children:G.map((function(e,n){return(0,o.jsxs)(C.ZP,{container:!0,sx:ye.calendar,children:[(0,o.jsx)(C.ZP,{item:!0,xs:1,md:2,sx:{fontSize:q?"10px":"14px",textAlign:"center"},children:(0,o.jsx)("strong",{children:["Wet Season","Dry Season","Off Season"][n]})}),(0,o.jsx)(C.ZP,{item:!0,xs:11,md:10,className:"calendar-header-months",style:{borderTop:n>0&&"1px solid black"},children:Object.values(de.re).map((function(n,t){var r=e[n.code].length<=1?"0px solid rgba(0, 0, 0, 0.4)":"",i=ye.calendar.cellBorderColor[e[n.code][0]],a=ye.calendar.cellBorderColor[e[n.code][1]];return(0,o.jsxs)(g.Z,{className:"cal-mo-container",style:{borderRight:""!==r?r:(null===a||void 0===a?void 0:a.includes("#f7f7ff"))?"1px solid rgba(0, 0, 0, 0.4)":"1px solid ".concat(a)},children:[(0,o.jsx)("div",{style:{backgroundColor:i||"#f7f7ff"}}),(0,o.jsx)("div",{style:{backgroundColor:a||"#f7f7ff"}})]},"cal-mo-itm-".concat(t,"-1"))}))})]},n)}))}),(0,o.jsx)(C.ZP,{container:!0,children:(0,o.jsx)(C.ZP,{item:!0,xs:12,md:16,sx:ye.legend,className:"calendar-header-months",children:(0,o.jsx)("ul",{style:{display:"flex",flexWrap:"wrap",fontSize:q?"10px":"13px"},children:B.map((function(e){return(0,o.jsxs)("li",{children:[(0,o.jsx)("span",{style:{backgroundColor:ye.calendar.cellBorderColor["cropCal".concat(e.index)]}}),e.label]},e.index)}))})})})]}):(0,o.jsx)(g.Z,{sx:ye.infoMsg,children:"Data for the requested resource is not yet available."})})]}),(0,o.jsxs)(fe.Z,{sx:{position:"fixed",zIndex:1200,width:220,p:0,borderRadius:2,backgroundColor:"rgba(255, 255, 255, 0.80)",boxShadow:3},style:{left:null!==(n=s.left)&&void 0!==n?n:void 0,top:null!==(t=s.top)&&void 0!==t?t:void 0},children:[(0,o.jsxs)(g.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.90)",padding:1,borderTopLeftRadius:10,borderTopRightRadius:10},children:[(0,o.jsx)(O.Z,{sx:{fontWeight:700,textTransform:"capitalize"},children:c}),(0,o.jsx)(W.Z,{color:"success",icon:(0,o.jsx)(Ce.Z,{}),sx:{padding:1,fontWeight:600,alignItems:"center"},label:1===L.length?"1":L.length>1?"".concat(L.length):0!==L.length||f?(0,o.jsx)(S.Z,{size:14,sx:{marginTop:.75}}):"0",variant:"outlined",size:"small"})]}),0!==L.length&&(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)("div",{style:(r={maxHeight:150},ze(r,"maxHeight",150),ze(r,"overflowY","hidden"),ze(r,"borderTop","1px solid rgba(0,0,0,0.08)"),ze(r,"paddingTop",6),r),children:function(){var e=L&&L.length>0?L:u||[];if(0===e.length)return null;var n=e.length,t=P%n;return[-2,-1,0,1,2].map((function(r,i){var a=(t+r+n)%n,c=e[a],l=Math.abs(r),s={opacity:.3,fontSize:10};return 0===l?s={opacity:1,fontSize:14,fontWeight:600}:1===l&&(s={opacity:.6,fontSize:12}),(0,o.jsx)("div",{ref:-2===r?_:null,onClick:function(){I(a),k(c.name||c)},style:ke({padding:"4px 6px",cursor:"pointer",transition:"all 120ms ease"},s,{textTransform:"capitalize"}),children:c.name||c},"".concat(a,"-").concat(i))}))}()}),(0,o.jsxs)("div",{style:{position:"absolute",right:6,top:36,display:"flex",flexDirection:"column",gap:6},children:[(0,o.jsx)(xe.Z,{size:"small",onClick:function(){var e=L&&L.length>0?L:u||[];if(e&&0!==e.length){var n=e.length,t=(P-1+n)%n;I(t),k(e[t].name||e[t])}},children:(0,o.jsx)(he.Z,{fontSize:"small"})}),(0,o.jsx)(xe.Z,{size:"small",onClick:function(){var e=L&&L.length>0?L:u||[];if(e&&0!==e.length){var n=e.length,t=(P+1)%n;I(t),k(e[t].name||e[t])}},children:(0,o.jsx)(me.Z,{fontSize:"small"})})]})]})]})]})},Pe=(0,B.Z)((0,o.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"People"),Ie=(0,B.Z)([(0,o.jsx)("path",{d:"M19.5 12c.93 0 1.78.28 2.5.76V8c0-1.1-.9-2-2-2h-6.29l-1.06-1.06 1.41-1.41-.71-.71-3.53 3.53.71.71 1.41-1.41L13 6.71V9c0 1.1-.9 2-2 2h-.54c.95 1.06 1.54 2.46 1.54 4 0 .34-.04.67-.09 1h3.14c.25-2.25 2.14-4 4.45-4z"},"0"),(0,o.jsx)("path",{d:"M19.5 13c-1.93 0-3.5 1.57-3.5 3.5s1.57 3.5 3.5 3.5 3.5-1.57 3.5-3.5-1.57-3.5-3.5-3.5zm0 5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM4 9h5c0-1.1-.9-2-2-2H4c-.55 0-1 .45-1 1s.45 1 1 1zm5.83 4.82-.18-.47.93-.35c-.46-1.06-1.28-1.91-2.31-2.43l-.4.89-.46-.21.4-.9C7.26 10.13 6.64 10 6 10c-.53 0-1.04.11-1.52.26l.34.91-.47.18-.35-.93c-1.06.46-1.91 1.28-2.43 2.31l.89.4-.21.46-.9-.4C1.13 13.74 1 14.36 1 15c0 .53.11 1.04.26 1.52l.91-.34.18.47-.93.35c.46 1.06 1.28 1.91 2.31 2.43l.4-.89.46.21-.4.9c.55.22 1.17.35 1.81.35.53 0 1.04-.11 1.52-.26l-.34-.91.47-.18.35.93c1.06-.46 1.91-1.28 2.43-2.31l-.89-.4.21-.46.9.4c.22-.55.35-1.17.35-1.81 0-.53-.11-1.04-.26-1.52l-.91.34zm-2.68 3.95c-1.53.63-3.29-.09-3.92-1.62-.63-1.53.09-3.29 1.62-3.92 1.53-.63 3.29.09 3.92 1.62.64 1.53-.09 3.29-1.62 3.92z"},"1")],"Agriculture"),Ae=(0,B.Z)((0,o.jsx)("path",{d:"m15.47 13.79-2.58-1.03L6 15.05l-4-1.54v2.1l4 1.34zm-4.9-2.37L8 8H2v3.61l4 1.34zM6 19.05l-4-1.33V22h20l-4.97-6.62zM17 6V1l-5-1-3 2v4l3 2zm1.5 1L16 9v3l2.5 2 4.5-2V8z"}),"Landslide");function Le(e,n,t,r,i,o,a){try{var c=e[o](a),l=c.value}catch(s){return void t(s)}c.done?n(l):Promise.resolve(l).then(r,i)}function Me(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var _e=de.XH.split(","),De={lat:_e[0],lng:_e[1]};var Re=function(e){var n=e.data,r=void 0===n?{villages:[],provincesMunicipalities:[],cropData:[]}:n,a=(0,l.useState)({}),y=a[0],j=a[1],w=(0,l.useState)(""),S=w[0],C=w[1],Z=(0,l.useState)(null),z=Z[0],k=Z[1],E=(0,l.useRef)(null),P=(0,l.useRef)(null),I=(0,l.useRef)(!1),A=(0,d.Z)((function(e){return e.breakpoints.down("md")})),L=(0,s.v9)((function(e){return e.provinces.ids})),M=(0,l.useRef)(null),_=(0,s.I0)(),D=(0,l.useState)(""),R=D[0],T=D[1],N=(0,l.useState)(""),F=N[0],B=N[1],H=(0,l.useState)({left:null,top:null}),U=H[0],G=H[1],V={"Phase I":"#888888","Phase II":"#4CAF50","Phase III":"#2196F3","Phase IV":"#FFC107"};return(0,l.useEffect)((function(){null===M.current&&0===L.length&&(M.current=!0,_((0,u.Q)()))}),[_,L.length]),(0,l.useEffect)((function(){try{var e=t(45243);P.current=new e.Icon({iconUrl:"images/icons/marker/locator.svg",iconSize:[40,40],iconAnchor:[25,50]})}catch(n){P.current=null}}),[]),(0,l.useEffect)((function(){var e=function(){var e,n=(e=i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,c().get("https://firebasestorage.googleapis.com/v0/b/region1-dev.appspot.com/o/geojson%2Facap-ilocos.geojson?alt=media&token=578df576-7a1e-4893-9992-fc89e672afdb");case 4:n=e.sent,j(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){Le(o,r,i,a,c,"next",e)}function c(e){Le(o,r,i,a,c,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();e()}),[]),(0,l.useEffect)((function(){var e=E.current;if(e){var n=function(){I.current?I.current=!1:(T(""),B(""),G({left:null,top:null}),k(null))};return e.on("click",n),function(){e.off("click",n)}}}),[E.current]),(0,o.jsxs)(g.Z,{sx:ue.map,style:{minHeight:A?"1300px":"675px"},children:[(0,o.jsxs)(p.h,{style:{height:"100%"},center:De,zoom:8,maxZoom:12,minZoom:8,tileSize:448,placeholder:(0,o.jsx)("h3",{children:"You need JavaScript to render this app."}),whenCreated:function(e){E.current=e},children:[(0,o.jsx)(f.et,{position:"topleft",children:se.map((function(e,n){return(0,o.jsx)(f.et.BaseLayer,{name:e.name,checked:0===n,children:(0,o.jsx)(x.I,{zIndex:0,attribution:e.attribution,url:e.url})},"map-".concat(n))}))}),(null===y||void 0===y?void 0:y.features)&&(0,o.jsx)(h.Q,{municipality:S,data:y.features,zIndex:1,onEachFeature:function(e,n){var t={fillColor:"#38da23ff",fillOpacity:.45,weight:0,opacity:1},r={fillColor:"#bdffc0ff",fillOpacity:.75,weight:2};e.properties.ADM3_EN===R&&e.properties.ADM2_EN===F?null===n||void 0===n||n.setStyle(r):null===n||void 0===n||n.setStyle(t),null===n||void 0===n||n.on({mouseover:function(t){var r;R||(null===n||void 0===n||n.setStyle({fillColor:"#bdffc0ff",fillOpacity:.6,weight:2,color:"#226025ff"}),null===(r=null===n||void 0===n?void 0:n.bindTooltip(e.properties.ADM3_EN,{sticky:!0,direction:"top",offset:[0,-10],opacity:.9,className:"municipality-name"}))||void 0===r||r.openTooltip(t.latlng))},click:function(t){if(I.current=!0,setTimeout((function(){I.current=!1}),50),null===n||void 0===n||n.setStyle(r),R)return T(""),void B("");!function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;T(n),B(e);try{var i=E.current;if(i&&r){var o=i.latLngToContainerPoint(r),a=i.getContainer().getBoundingClientRect(),c=Math.round(a.left+o.x+12),l=Math.round(a.top+o.y-55);G({left:c,top:l})}else G({left:null,top:null})}catch(t){G({left:null,top:null})}}(e.properties.ADM2_EN,e.properties.ADM3_EN,t.latlng)},mouseout:function(){R||(null===n||void 0===n||n.setStyle(t),null===n||void 0===n||n.unbindTooltip())}})}},Math.random().toString(36).substring(2,8)),r.villages.map((function(e,n){return(0,o.jsx)(m.J,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Me(e,n,t[n])}))}return e}({position:[e.lat,e.lon],id:"tooltip-".concat(n),eventHandlers:{mouseover:function(e){null!==z&&k(null)},click:function(e){null!==z&&k(null)}}},P.current?{icon:P.current}:{},{children:(0,o.jsxs)(v.u,{className:ae().tooltipCustom,direction:"left",children:[(0,o.jsx)(O.Z,{fontWeight:"medium",fontSize:18,variant:"body1",color:"initial",children:(0,o.jsx)("strong",{children:e.association})}),(0,o.jsx)(W.Z,{size:"small",sx:{backgroundColor:V[e.phase]||"#888888",color:"#ffffff",marginY:1},label:e.phase}),(0,o.jsx)(O.Z,{fontWeight:"regular",lineHeight:.5,fontSize:12,variant:"subtitle2",color:"initial",fontStyle:"italic",children:"".concat(e.barangay,", ").concat(e.municipality,", ").concat(e.province)}),e.image_url&&(0,o.jsx)("div",{style:{marginBottom:8,lineHeight:0},children:(0,o.jsx)(b.default,{src:e.image_url,alt:e.association||"Village",width:300,height:200,style:{width:"100%",objectFit:"cover",display:"block",borderRadius:4,maxWidth:"300px",height:"auto"}})}),(0,o.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",gap:2,paddingBlock:1},children:[(0,o.jsx)(Pe,{sx:{color:"#1b37a8"}}),(0,o.jsx)(O.Z,{variant:"caption",color:"initial",children:e.total_members})]}),(0,o.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",gap:2,borderBlock:"2px dotted #cfcfcf",paddingBlock:1},children:[(0,o.jsx)(Ce.Z,{sx:{color:"#226025ff"}}),(0,o.jsx)(O.Z,{variant:"caption",color:"initial",children:Array.isArray(e.commodities)&&e.commodities.length>0?e.commodities.map((function(e){return e.replace(/\b\w/g,(function(e){return e.toUpperCase()}))})).join(", "):"-"})]}),(0,o.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",gap:2,paddingBlock:1},children:[(0,o.jsx)(Ie,{sx:{color:"#939717"}}),(0,o.jsxs)(O.Z,{variant:"caption",color:"initial",children:[e.total_land_area," hectares"]})]}),(0,o.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",gap:2,borderTop:"2px dotted #cfcfcf",paddingTop:1},children:[(0,o.jsx)(Ae,{sx:{color:"#ac4a1a"}}),(0,o.jsx)(O.Z,{variant:"caption",color:"initial",children:e.climate_risks})]})]})}),n)})),!A&&(0,o.jsx)(le,{record:z})]}),R&&F&&(0,o.jsx)(Ee,{province:F,municipality:R,overlayPos:U}),!R&&!F&&(0,o.jsx)(ie,{record:z,isSmallScreen:A,onSelectMunicipality:function(e,n){if(null===e&&null===n)C(""),k(null);else{"San Fernando City"===e&&(e="City of San Fernando");var t=r.villages.find((function(t){return t.municipality===e&&t.province===n}));if(void 0!==t){var i=t.province;C((function(e){return i})),k(t),function(e,n){var t=E.current;t&&t.flyTo([e,n+4],10,{duration:2.5})}(t.lat,t.lon)}else C(""),k(null)}}})]})}},1902:function(e,n,t){"use strict";t.d(n,{J4:function(){return r},Y1:function(){return i},Sx:function(){return o}});var r=[{icon:"sunny.svg",label:"No rain",nowrap:!0},{icon:"light_rain.svg",label:"Light rain"},{icon:"moderate_rain.svg",label:"Moderate rain"},{icon:"heavy_rain.svg",label:"Heavy rain"},{icon:"blank_weather.png",label:"Heavy rain",hidden:!0}],i=[{icon:"sunny.svg",label:"Sunny"},{icon:"mostly_sunny.svg",label:"Mostly sunny"},{icon:"partly_cloudy.svg",label:"Partly cloudy"},{icon:"mostly_cloudy.svg",label:"Mostly cloudy"},{icon:"cloudy.svg",label:"Cloudy"}],o={rainfall:{"NO RAIN":"sunny.svg","LIGHT RAINS":"light_rain.svg","MODERATE RAINS":"moderate_rain.svg","HEAVY RAINS":"heavy_rain.svg"},cloudCover:{SUNNY:"sunny.svg","MOSTLY SUNNY":"mostly_sunny.svg","PARTLY CLOUDY":"partly_cloudy.svg","MOSTLY CLOUDY":"mostly_cloudy.svg",CLOUDY:"cloudy.svg"}}},38885:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(34051),i=t.n(r),o=t(67294),a=t(32848);function c(e,n,t,r,i,o,a){try{var c=e[o](a),l=c.value}catch(s){return void t(s)}c.done?n(l):Promise.resolve(l).then(r,i)}function l(e){var n=(0,o.useState)([]),t=n[0],r=n[1],l=(0,o.useState)(!1),s=l[0],u=l[1],d=(0,o.useState)(""),p=d[0],f=d[1];return(0,o.useEffect)((function(){var n=function(){var n,t=(n=i().mark((function n(){var t,o,c,l,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u(!0),t=[],n.next=5,(0,a.TQ)();case 5:o=n.sent,e?o.map((function(n){e&&!n.data.hasCalendar||t.push(n.data.name)})):o.map((function(e){return t.push(e.data.name)})),r(null!==t&&void 0!==t?t:[]),u(!1),f(""),n.next=20;break;case 12:n.prev=12,n.t0=n.catch(0),s=null!==(l=null===n.t0||void 0===n.t0||null===(c=n.t0.response)||void 0===c?void 0:c.data)&&void 0!==l?l:n.t0.message,f(s),u(!1),r([]);case 20:case"end":return n.stop()}}),n,null,[[0,12]])})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){c(o,r,i,a,l,"next",e)}function l(e){c(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();n()}),[]),{cropList:t,loading:s,error:p}}},18091:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(67294),i=t(47426);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=(0,r.useState)([]),a=t[0],c=t[1],l=(0,r.useState)(""),s=l[0],u=l[1];return(0,r.useEffect)((function(){if(u(""),e.length>0)try{var t=[];e.map((function(e){if(!1!==e){var r=Object.values(i.re).reduce((function(t,r){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({},t,o({},r.code,e[r.code].split(",").map((function(e){return"none"===e?"cropCalnocolor":"cropCal".concat(n[e].index)}))))}),{});t.push(r)}})),c(t)}catch(r){u(r.message)}else c([])}),[e,n]),{stagesforviz:a,error:s}}},59390:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(34051),i=t.n(r),o=t(67294),a=t(32848);function c(e,n,t,r,i,o,a){try{var c=e[o](a),l=c.value}catch(s){return void t(s)}c.done?n(l):Promise.resolve(l).then(r,i)}function l(e,n){var t=(0,o.useState)([]),r=t[0],l=t[1],s=(0,o.useState)([]),u=s[0],d=s[1],p=(0,o.useState)(!1),f=p[0],x=p[1],h=(0,o.useState)(""),m=h[0],v=h[1];return(0,o.useEffect)((function(){var t=function(){var t,r=(t=i().mark((function t(){var r,o,c,s,u,p,f;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,x(!0),t.next=4,(0,a.ad)(e,n);case 4:return r=t.sent,l(null!==(o=null===r||void 0===r?void 0:r.data)&&void 0!==o?o:[]),t.next=9,(0,a.Fj)(n);case 9:c=t.sent,d(null!==(s=null===c||void 0===c?void 0:c.data)&&void 0!==s?s:[]),x(!1),v(""),t.next=24;break;case 16:t.prev=16,t.t0=t.catch(0),f=null!==(p=null===t.t0||void 0===t.t0||null===(u=t.t0.response)||void 0===u?void 0:u.data)&&void 0!==p?p:t.t0.message,v(f),x(!1),l([]);case 24:case"end":return t.stop()}}),t,null,[[0,16]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){c(o,r,i,a,l,"next",e)}function l(e){c(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();e&&n&&(v(""),l([]),d([]),t())}),[e,n]),{cropcalendar:r,cropStages:u,loading:f,error:m}}},99108:function(e){e.exports={tooltipCustom:"Map_tooltipCustom___IYju"}},72471:function(e,n,t){"use strict";t.d(n,{Q:function(){return o}});var r=t(31467),i=t(45243);const o=(0,r.Au)((function(e,n){let{data:t,...r}=e;const o=new i.GeoJSON(t,r);return{instance:o,context:{...n,overlayContainer:o}}}),(function(e,n,t){n.style!==t.style&&(null==n.style?e.resetStyle():e.setStyle(n.style))}))},44526:function(e,n,t){"use strict";t.d(n,{et:function(){return d}});var r=t(4777),i=t(49420),o=t(20022),a=t(60557),c=t(45243),l=t(67294);const s=(0,r.I)((function(e,n){let{children:t,...r}=e;const i=new c.Control.Layers(void 0,void 0,r);return{instance:i,context:{...n,layersControl:i}}}),(function(e,n,t){n.collapsed!==t.collapsed&&(!0===n.collapsed?e.collapse():e.expand())})),u=(0,i.y)(s),d=(0,o.RA)(u);function p(e){return function(n){const t=(0,a.mE)(),r=(0,l.useRef)(n),[i,o]=(0,l.useState)(null),{layersControl:c,map:s}=t,u=(0,l.useCallback)((n=>{null!=c&&(r.current.checked&&s.addLayer(n),e(c,n,r.current.name),o(n))}),[c,s]),d=(0,l.useCallback)((e=>{null==c||c.removeLayer(e),o(null)}),[c]),p=(0,l.useMemo)((()=>({...t,layerContainer:{addLayer:u,removeLayer:d}})),[t,u,d]);return(0,l.useEffect)((()=>{null!==i&&r.current!==n&&(!0!==n.checked||null!=r.current.checked&&!1!==r.current.checked?!0!==r.current.checked||null!=n.checked&&!1!==n.checked||s.removeLayer(i):s.addLayer(i),r.current=n)})),n.children?l.createElement(a.UO,{value:p},n.children):null}}d.BaseLayer=p((function(e,n,t){e.addBaseLayer(n,t)})),d.Overlay=p((function(e,n,t){e.addOverlay(n,t)}))},60795:function(e,n,t){"use strict";t.d(n,{h:function(){return c}});var r=t(60557),i=t(45243),o=t(67294);function a(){return a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}function c(e){let{children:n,className:t,id:c,placeholder:l,style:s,whenCreated:u,...d}=e;const p=(0,o.useRef)(null),f=function(e,n){const[t,r]=(0,o.useState)(null);return(0,o.useEffect)((()=>{if(null!==e.current&&null===t){const t=new i.Map(e.current,n);null!=n.center&&null!=n.zoom?t.setView(n.center,n.zoom):null!=n.bounds&&t.fitBounds(n.bounds,n.boundsOptions),null!=n.whenReady&&t.whenReady(n.whenReady),r(t)}}),[e,t,n]),t}(p,d),x=(0,o.useRef)(!1);(0,o.useEffect)((()=>{null!=f&&!1===x.current&&null!=u&&(x.current=!0,u(f))}),[f,u]),(0,o.useEffect)((()=>()=>{null==f||f.remove()}),[f]);const[h]=(0,o.useState)({className:t,id:c,style:s}),m=(0,o.useMemo)((()=>f?{__version:r.cV,map:f}:null),[f]),v=m?o.createElement(r.UO,{value:m},n):l??null;return o.createElement("div",a({},h,{ref:p}),v)}},27409:function(e,n,t){"use strict";t.d(n,{J:function(){return o}});var r=t(31467),i=t(45243);const o=(0,r.dW)((function(e,n){let{position:t,...r}=e;const o=new i.Marker(t,r);return{instance:o,context:{...n,overlayContainer:o}}}),(function(e,n,t){n.position!==t.position&&e.setLatLng(n.position),null!=n.icon&&n.icon!==t.icon&&e.setIcon(n.icon),null!=n.zIndexOffset&&n.zIndexOffset!==t.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),null!=n.opacity&&n.opacity!==t.opacity&&e.setOpacity(n.opacity),null!=e.dragging&&n.draggable!==t.draggable&&(!0===n.draggable?e.dragging.enable():e.dragging.disable())}))},74284:function(e,n,t){"use strict";t.d(n,{I:function(){return c}});var r=t(31467),i=t(75828),o=t(46329),a=t(45243);const c=(0,r.Lf)((function(e,n){let{url:t,...r}=e;return{instance:new a.TileLayer(t,(0,i.q)(r,n)),context:n}}),o.I)},97651:function(e,n,t){"use strict";t.d(n,{u:function(){return a}});var r=t(31467),i=t(45243),o=t(67294);const a=(0,r.SO)((function(e,n){return{instance:new i.Tooltip(e,n.overlayContainer),context:n}}),(function(e,n,t,r){const{onClose:i,onOpen:a,position:c}=t;(0,o.useEffect)((function(){const t=n.overlayContainer;if(null==t)return;const{instance:o}=e,l=e=>{e.tooltip===o&&(c&&o.setLatLng(c),o.update(),r(!0),null==a||a())},s=e=>{e.tooltip===o&&(r(!1),null==i||i())};return t.on({tooltipopen:l,tooltipclose:s}),t.bindTooltip(o),function(){t.off({tooltipopen:l,tooltipclose:s}),null!=t._map&&t.unbindTooltip()}}),[e,n,r,i,a,c])}))}}]);