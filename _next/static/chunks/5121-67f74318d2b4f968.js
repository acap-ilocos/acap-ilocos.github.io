"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5121],{37634:function(n,t,e){e.d(t,{Z:function(){return c}});var r=e(85893),o=e(25675),a=e(87357),i=e(15861),u=e(26660),l={container:{textAlign:"center",minHeight:"200px",width:"100%",border:"4px solid rgba(0, 0, 0, 0.11)",borderRadius:function(n){return n.spacing(2)},color:function(n){return n.palette.text.secondary},borderStyle:"dashed",padding:function(n){return n.spacing(2)},marginTop:function(n){return n.spacing(4)}}};var c=function(n){var t=n.message,e=void 0===t?"Failed to load data":t,c=n.style,d=void 0===c?{}:c;return(0,r.jsxs)(a.Z,{sx:l.container,style:d,children:[(0,r.jsx)(o.default,{unoptimized:!0,src:(0,u.assetPrefixer)("images/icons/empty-state-light.svg"),height:120,width:120,loader:u.imageLoader,alt:"Empty data"}),(0,r.jsx)(i.Z,{variant:"subtitle1",children:e})]})}},59390:function(n,t,e){e.d(t,{Z:function(){return l}});var r=e(34051),o=e.n(r),a=e(67294),i=e(32848);function u(n,t,e,r,o,a,i){try{var u=n[a](i),l=u.value}catch(c){return void e(c)}u.done?t(l):Promise.resolve(l).then(r,o)}function l(n,t){var e=(0,a.useState)([]),r=e[0],l=e[1],c=(0,a.useState)([]),d=c[0],s=c[1],f=(0,a.useState)(!1),v=f[0],p=f[1],m=(0,a.useState)(""),h=m[0],y=m[1];return(0,a.useEffect)((function(){var e=function(){var e,r=(e=o().mark((function e(){var r,a,u,c,d,f,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,(0,i.ad)(n,t);case 4:return r=e.sent,l(null!==(a=null===r||void 0===r?void 0:r.data)&&void 0!==a?a:[]),e.next=9,(0,i.Fj)(t);case 9:u=e.sent,s(null!==(c=null===u||void 0===u?void 0:u.data)&&void 0!==c?c:[]),p(!1),y(""),e.next=24;break;case 16:e.prev=16,e.t0=e.catch(0),v=null!==(f=null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d?void 0:d.data)&&void 0!==f?f:e.t0.message,y(v),p(!1),l([]);case 24:case"end":return e.stop()}}),e,null,[[0,16]])})),function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(n){u(a,r,o,i,l,"next",n)}function l(n){u(a,r,o,i,l,"throw",n)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();n&&t&&(y(""),l([]),s([]),e())}),[n,t]),{cropcalendar:r,cropStages:d,loading:v,error:h}}},22856:function(n,t,e){e.d(t,{Z:function(){return s}});var r=e(34051),o=e.n(r),a=e(67294),i=e(9473),u=e(72216),l=e(1096);function c(n,t,e,r,o,a,i){try{var u=n[a](i),l=u.value}catch(c){return void e(c)}u.done?t(l):Promise.resolve(l).then(r,o)}function d(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(n){c(a,r,o,i,u,"next",n)}function u(n){c(a,r,o,i,u,"throw",n)}i(void 0)}))}}function s(n,t,e,r){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],f=(0,a.useState)([]),v=f[0],p=f[1],m=(0,a.useState)([]),h=m[0],y=m[1],g=(0,a.useState)(!1),b=g[0],S=g[1],_=(0,a.useState)(""),A=_[0],w=_[1],x=(0,i.I0)();return(0,a.useEffect)((function(){var a=function(){var a=d(o().mark((function a(){var i,d,f,v,m,h;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,i=[],S(!1),w(""),d=t,"object"===typeof t&&(d=t.map((function(n){return n.code}))),s){o.next=12;break}return o.next=9,(0,l.$K)({climateRisk:n,_cropStage:d,crop:e,type:r,multipleStages:c});case 9:i=o.sent,o.next=15;break;case 12:return o.next=14,(0,l.fI)({_cropStage:d,crop:e,type:r,multipleStages:c});case 14:i=o.sent;case 15:f=i.map((function(n){return n.farming_activity})).filter((function(n,t,e){return e.indexOf(n)===t})).reduce((function(n,t,e){return n.push({id:e,label:t}),n}),[]),S(!1),y(f),p(i||[]),x((0,u.lO)(i||[])),o.next=29;break;case 22:o.prev=22,o.t0=o.catch(0),h=null!==(m=null===o.t0||void 0===o.t0||null===(v=o.t0.response)||void 0===v?void 0:v.data)&&void 0!==m?m:o.t0.message,w(h),S(!1);case 29:case"end":return o.stop()}}),a,null,[[0,22]])})));return function(){return a.apply(this,arguments)}}();t&&e&&(null===t||void 0===t?void 0:t.length)>0?a():(p([]),y([]))}),[n,t,e,r,c,s,x]),{recommendations:v,farmoperations:h,loading:b,error:A}}},94640:function(n,t,e){e.d(t,{Z:function(){return s}});var r=e(67294),o=e(9473),a=e(47426),i=e(56867),u=e(77715),l=e(901);function c(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function d(n){return function(n){if(Array.isArray(n))return c(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(!n)return;if("string"===typeof n)return c(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return c(n,t)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(n,t){var e=(0,r.useState)([]),c=e[0],s=e[1],f=(0,r.useState)(null),v=f[0],p=f[1],m=(0,r.useState)(""),h=m[0],y=m[1],g=(0,r.useState)(""),b=g[0],S=g[1],_=(0,r.useState)(!1),A=_[0],w=_[1],x=(0,o.I0)(),I=(0,o.v9)((function(n){return n.tendayweather})),E=I.ids,N=I.status,R=I.entities,k=I.error;return(0,r.useEffect)((function(){null!==n&&(y(""),S(""),x((0,i.R)(n)))}),[n,x]),(0,r.useEffect)((function(){y(k)}),[k]),(0,r.useEffect)((function(){w(N===l.G.PENDING)}),[N]),(0,r.useEffect)((function(){if(y(""),S(""),N===l.G.FULLFILLED&&E.length>0&&""===k&&null!==t){var n=Object.values(R).find((function(n){return n.municipality===t}));if(void 0!==n){var e,r,o=JSON.parse(n.data),i=Object.values(a.MW);s(o.reduce((function(n,t,a){var l,c,s;return d(n).concat([{id:a,label:t.day_format,label_full:null===(l=(0,u.Ay)(t.day_format,o[9].day_format))||void 0===l?void 0:l.toDateString(),rainfall:t.rainfall,forecast:null!==(e=null===(c=i.find((function(n){return n.tenday===t.rainfall})))||void 0===c?void 0:c.sync)&&void 0!==e?e:"-",code:null!==(r=null===(s=i.find((function(n){return n.tenday===t.rainfall})))||void 0===s?void 0:s.label)&&void 0!==r?r:"-"}])}),[]));var c=new Date(1e3*o[0].date_start.seconds),f=(0,u.Mn)(c);c.getFullYear()!==(new Date).getFullYear()&&y("Invalid year detected in the 10-day validity date range: ".concat(o[0].date_range)),p({months:f,date_start:c,date_range:o[0].date_range})}else{var v=k||"Weather data for the municipality is not available at the moment, however, you can continue viewing recommendations. Please verify that the municipality name is present in the 10-Day weather forecast.";k?(s([]),p(null),y(v)):S(v)}}}),[t,R,E,N,k]),{days:c,summary:v,loading:A,error:h,warning:b}}},59111:function(n,t,e){e.d(t,{m:function(){return r}});var r=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return n.map((function(n,e){return{id:e,label:n[t]}}))}},52955:function(n,t){function e(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function r(n){return function(n){if(Array.isArray(n))return e(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(!n)return;if("string"===typeof n)return e(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(n,t)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(n){if(0===n.length)return{};for(var t={wb_normal:[],b_normal:[],above_normal:[],near_normal:[]},e=n[0].con,o=1,a=1;a<n.length;a++)n[a].con===e?o++:(t[e].push(o),e=n[a].con,o=1);return t[e].push(o),function(n){var t,e,o,a,i,u,l=(null!==(a=null===n||void 0===n?void 0:n.b_normal.length)&&void 0!==a?a:0)>0?(t=Math).max.apply(t,r(n.b_normal)):void 0,c=(null!==(i=null===n||void 0===n?void 0:n.wb_normal.length)&&void 0!==i?i:0)>0?(e=Math).max.apply(e,r(n.wb_normal)):void 0,d=(null!==(u=null===n||void 0===n?void 0:n.above_normal.length)&&void 0!==u?u:0)>0?(o=Math).max.apply(o,r(n.above_normal)):void 0,s=void 0!==l&&5===l||void 0!==c&&3===c,f=void 0!==l&&l[0]>=3||void 0!==c&&2===c[0];return s?{label:"Drought",code:"drought"}:f?{label:"Dry Spell",code:"dry_spell"}:void 0!==l&&2===l?{label:"Dry Condition",code:"dry_condition"}:void 0!==d&&d>=3?{label:"Wetter Condition",code:"wetter_condition"}:{label:"No Risk",code:"no_risk"}}(t)}function a(n){if(0===n.length)return{};for(var t={"NO RAIN":[],"MODERATE RAINS":[],"HEAVY RAINS":[],"LIGHT RAINS":[]},e=n[0].rainfall,o=1,a=1;a<n.length;a++)n[a].rainfall===e?o++:(t[e].push(o),e=n[a].rainfall,o=1);return t[e].push(o),function(n){var t,e,o,a,i,u,l,c,d=(null!==(u=null===(a=n["MODERATE RAINS"])||void 0===a?void 0:a.length)&&void 0!==u?u:0)>0?(t=Math).max.apply(t,r(n["MODERATE RAINS"])):void 0,s=(null!==(l=null===(i=n["HEAVY RAINS"])||void 0===i?void 0:i.length)&&void 0!==l?l:0)>0?(e=Math).max.apply(e,r(n["HEAVY RAINS"])):void 0,f=(null!==(c=n["NO RAIN"].length)&&void 0!==c?c:0)>0?(o=Math).max.apply(o,r(n["NO RAIN"])):void 0;return void 0!==d&&d>=3?{label:"Flooding/Submergence 3M",code:"flooding_submergence_3M"}:void 0!==s&&s>=2?{label:"Flooding/Submergence 2H",code:"flooding_submergence_2H"}:void 0!==f&&10===f?{label:"Dry Condition",code:"dry_condition"}:{label:"No Risk",code:"no_risk"}}(t)}t.Z=function(n,t){switch(t){case"seasonal":return o(n);case"tenday":return a(n)}}}}]);