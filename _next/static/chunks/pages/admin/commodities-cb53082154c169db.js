(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9696],{50594:function(e,n,r){"use strict";var t=r(64836);n.Z=void 0;var o=t(r(64938)),i=r(85893),a=(0,o.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");n.Z=a},53457:function(e,n,r){"use strict";r.d(n,{Z:function(){return h}});var t=r(63366),o=r(87462),i=r(67294),a=r(86010),s=r(27192),l=r(11496),c=r(33616),u=r(28979);function d(e){return(0,u.Z)("MuiFormGroup",e)}(0,r(76087).Z)("MuiFormGroup",["root","row","error"]);var f=r(74423),p=r(15704),m=r(85893);const g=["className","row"],v=(0,l.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:r}=e;return[n.root,r.row&&n.row]}})((({ownerState:e})=>(0,o.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})));var h=i.forwardRef((function(e,n){const r=(0,c.Z)({props:e,name:"MuiFormGroup"}),{className:i,row:l=!1}=r,u=(0,t.Z)(r,g),h=(0,f.Z)(),x=(0,p.Z)({props:r,muiFormControl:h,states:["error"]}),b=(0,o.Z)({},r,{row:l,error:x.error}),y=(e=>{const{classes:n,row:r,error:t}=e,o={root:["root",r&&"row",t&&"error"]};return(0,s.Z)(o,d,n)})(b);return(0,m.jsx)(v,(0,o.Z)({className:(0,a.Z)(y.root,i),ownerState:b,ref:n},u))}))},67070:function(e,n,r){"use strict";r(67294);var t=r(88169),o=r(85893);n.Z=(0,t.Z)((0,o.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},56686:function(e,n,r){"use strict";r(67294);var t=r(88169),o=r(85893);n.Z=(0,t.Z)((0,o.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},42176:function(e,n,r){"use strict";r.d(n,{D:function(){return m}});var t=r(87462),o=r(63366),i=r(67294),a=r(86010),s=r(11496),l=r(27192),c=r(73490),u=r(48836),d=r(85893);const f=["className","children"],p=(0,s.ZP)("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:(e,n)=>n.toolbarContainer})((({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(.5,.5,0)}))),m=i.forwardRef((function(e,n){const{className:r,children:i}=e,s=(0,o.Z)(e,f),m=(e=>{const{classes:n}=e;return(0,l.Z)({root:["toolbarContainer"]},c.d,n)})({classes:(0,u.B)().classes});return i?(0,d.jsx)(p,(0,t.Z)({ref:n,className:(0,a.Z)(r,m.root)},s,{children:i})):null}))},6132:function(e,n,r){"use strict";r.d(n,{S:function(){return p}});var t=r(87462),o=r(63366),i=r(67294),a=r(14696),s=r(10269),l=r(27476),c=r(49630),u=r(48836),d=r(85893);const f=["onClick"],p=i.forwardRef((function(e,n){var r;const{onClick:i}=e,p=(0,o.Z)(e,f),m=(0,c.l)(),g=(0,u.B)(),{open:v,openedPanelValue:h}=(0,a.P)(m,s.e);return g.disableColumnSelector?null:(0,d.jsx)(g.components.BaseButton,(0,t.Z)({ref:n,size:"small",color:"primary","aria-label":m.current.getLocaleText("toolbarColumnsLabel"),startIcon:(0,d.jsx)(g.components.ColumnSelectorIcon,{})},p,{onClick:e=>{v&&h===l.y.columns?m.current.hidePreferences():m.current.showPreferences(l.y.columns),null==i||i(e)}},null==(r=g.componentsProps)?void 0:r.baseButton,{children:m.current.getLocaleText("toolbarColumns")}))}))},50853:function(e,n,r){"use strict";r.d(n,{M:function(){return j}});var t=r(87462),o=r(63366),i=r(67294),a=r(11496),s=r(27192),l=r(88082),c=r(98216),u=r(90198),d=r(14696),f=r(61207),p=r(10269),m=r(27476),g=r(49630),v=r(48836),h=r(73490),x=r(85893);const b=["componentsProps"],y=(0,a.ZP)("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList",overridesResolver:(e,n)=>n.toolbarFilterList})((({theme:e})=>({margin:e.spacing(1,1,.5),padding:e.spacing(0,1)}))),j=i.forwardRef((function(e,n){var r,a;const{componentsProps:j={}}=e,Z=(0,o.Z)(e,b),w=j.button||{},S=(0,g.l)(),C=(0,v.B)(),P=(0,d.P)(S,f.DY),_=(0,d.P)(S,u.WH),k=(0,d.P)(S,p.e),O=(e=>{const{classes:n}=e;return(0,s.Z)({root:["toolbarFilterList"]},h.d,n)})({classes:C.classes}),N=i.useMemo((()=>{if(k.open)return S.current.getLocaleText("toolbarFiltersTooltipHide");if(0===P.length)return S.current.getLocaleText("toolbarFiltersTooltipShow");const e=e=>_[e.columnField].filterOperators.find((n=>n.value===e.operatorValue)).label||S.current.getLocaleText(`filterOperator${(0,c.Z)(e.operatorValue)}`).toString();return(0,x.jsxs)("div",{children:[S.current.getLocaleText("toolbarFiltersTooltipActive")(P.length),(0,x.jsx)(y,{className:O.root,children:P.map(((n,r)=>(0,t.Z)({},_[n.columnField]&&(0,x.jsx)("li",{children:`${_[n.columnField].headerName||n.columnField}\n                  ${e(n)}\n                  ${n.value}`},r))))})]})}),[S,k.open,P,_,O]);return C.disableColumnFilter?null:(0,x.jsx)(C.components.BaseTooltip,(0,t.Z)({title:N,enterDelay:1e3},Z,null==(r=C.componentsProps)?void 0:r.baseTooltip,{children:(0,x.jsx)(C.components.BaseButton,(0,t.Z)({ref:n,size:"small",color:"primary","aria-label":S.current.getLocaleText("toolbarFiltersLabel"),startIcon:(0,x.jsx)(l.Z,{badgeContent:P.length,color:"primary",children:(0,x.jsx)(C.components.OpenFilterButtonIcon,{})})},w,{onClick:e=>{var n;const{open:r,openedPanelValue:t}=k;r&&t===m.y.filters?S.current.hideFilterPanel():S.current.showFilterPanel(),null==(n=w.onClick)||n.call(w,e)}},null==(a=C.componentsProps)?void 0:a.baseButton,{children:S.current.getLocaleText("toolbarFilters")}))}))}))},69185:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/commodities",function(){return r(97040)}])},48430:function(e,n){"use strict";n.Z={selectionSummary:{minWidth:"100%",paddingLeft:{xs:0,lg:"16px"}},welcome:{border:"1px solid #DCEDC8",borderRadius:function(e){return e.spacing(1)},display:"grid",placeContent:"left",padding:"20px",marginTop:function(e){return e.spacing(1)},"& h6":{lineHeight:"20px"}},summary:{border:"1px solid #DCEDC8",borderRadius:function(e){return e.spacing(1)},marginTop:function(e){return e.spacing(1)},padding:function(e){return e.spacing(3)}}}},89646:function(e,n,r){"use strict";var t=r(85893),o=r(55113);function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var a=(0,r(11496).ZP)((function(e){return(0,t.jsx)(o.Z,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){i(e,n,r[n])}))}return e}({},e))}))((function(e){var n=e.theme;return{padding:n.spacing(3),borderRadius:n.spacing(1),backgroundColor:"#fff",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",border:"1px solid ".concat(n.palette.bacap.border)}}));n.Z=a},55688:function(e,n,r){"use strict";var t=r(85893),o=r(67294),i=r(45697),a=r.n(i),s=r(14866),l=r(46901);function c(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var u=o.forwardRef((function(e,n){return(0,t.jsx)(l.Z,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){c(e,n,r[n])}))}return e}({elevation:6,ref:n,variant:"filled"},e))}));function d(e){var n=e.openSnackbar,r=e.message,i=e.severity,a=e.closeHandlerCB,l=void 0===a?function(){}:a,c=(0,o.useState)(n),d=c[0],f=c[1];(0,o.useEffect)((function(){f(n)}),[n]);var p=function(){f(!1),l()};return(0,t.jsx)(s.Z,{open:d,autoHideDuration:3e3,onClose:p,children:(0,t.jsx)(u,{onClose:p,severity:i,sx:{width:"100%"},children:r})})}d.propTypes={openSnackbar:a().bool,message:a().string,severity:a().string},n.Z=d},97040:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return J}});var t=r(85893),o=r(67294),i=r(9473),a=r(95243),s=r(66383),l=r(37647),c=r(47426),u=r(901),d=r(87357),f=r(89646),p=r(15861),m=r(55688),g=r(42176),v=r(6132),h=r(50853),x=r(24343),b=r(11057),y=r(41664),j=r(34051),Z=r.n(j),w=r(50657),S=r(37645),C=r(93946),P=r(6514),_=r(86886),k=r(98456),O=r(61903),N=r(53457),T=r(50480),D=r(69368),F=r(31425),L=r(48430),E=r(50594),I=r(13527);function M(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function B(e,n,r,t,o,i,a){try{var s=e[i](a),l=s.value}catch(c){return void r(c)}s.done?n(l):Promise.resolve(l).then(t,o)}function R(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function A(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){R(e,n,r[n])}))}return e}function G(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return M(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z=[{id:"prep",order:0,title:"Preparation",desc:"Land preparation",conflict:[],color:"rgb(153, 102, 51)"},{id:"seed",order:1,title:"Seeding",desc:"Seed planting",conflict:[],color:"rgb(202, 237, 251)"},{id:"veg",order:2,title:"Vegetative (General)",desc:"General vegitative",conflict:["vegleaf","vegtass"],color:"rgba(254, 255, 171)"},{id:"vegleaf",order:2,title:"Vegetative (Leaf Stages)",desc:"Leaf growth phase",conflict:["veg"],color:"rgba(254, 255, 171)"},{id:"vegtass",order:3,title:"Vegetative (Tasseling)",desc:"Vegitation tassling",conflict:["veg"],color:"rgba(217, 255, 146)"},{id:"repro",order:4,title:"Reproductive",desc:"Land preparation",conflict:[],color:"rgb(142, 217, 115)"},{id:"mat",order:5,title:"Maturing",desc:"Crop is almost ripe or is ripe for harvest",conflict:[],color:"rgb(60, 125, 34)"},{id:"bud",order:1,title:"Bud Break",desc:"Bud Break",conflict:["prep","seed","veg","vegleaf","vegtass","repro"]},{id:"indev",order:2,title:"Inflorescence Dev./Flowering",desc:"Inflorescence Dev./Flowering",conflict:["prep","seed","veg","vegleaf","vegtass","repro"]},{id:"fset",order:3,title:"Fruit Set",desc:"Fruit Set",conflict:["prep","seed","veg","vegleaf","vegtass","repro"]},{id:"fdev",order:4,title:"Fruit Development",desc:"Fruit Development",conflict:["prep","seed","veg","vegleaf","vegtass","repro"]}];var H=function(e){var n=e.onClose,r=e.onSuccess,i=e.commodityData,a=(0,o.useState)({}),s=a[0],l=a[1],c=(0,o.useState)(!1),u=c[0],f=c[1],g=(0,o.useState)({}),v=g[0],h=g[1],x=(0,o.useState)({docId:null===i||void 0===i?void 0:i.id,tagalog_name:null===i||void 0===i?void 0:i.tagalog_name,ilokano_name:null===i||void 0===i?void 0:i.ilokano_name,phases:[]}),y=x[0],j=x[1];(0,o.useEffect)((function(){if(null===i||void 0===i?void 0:i.phases){var e=i.phases.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length})).map((function(e){return z.find((function(n){return n.id===e}))})).filter(Boolean);j((function(n){return A({},n,{phases:e})})),h(e)}}),[i]);var M=(0,o.useMemo)((function(){var e={};return z.forEach((function(n){return e[n.id]=new Set})),z.forEach((function(n){n.conflict.forEach((function(r){var t;e[n.id].add(r),null===(t=e[r])||void 0===t||t.add(n.id)}))})),e}),[]),H=function(){j({tagalog_name:null===i||void 0===i?void 0:i.tagalog_name,ilokano_name:null===i||void 0===i?void 0:i.ilokano_name,phases:v})},W=function(e){var n=e.target,r=n.id,t=n.value;j((function(e){return A({},e,R({},r,t))}))},V=function(e){var n=y.phases.map((function(e){return e.id})),r=!0,t=!1,o=void 0;try{for(var i,a=n[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s,l=i.value;if(null===(s=M[l])||void 0===s?void 0:s.has(e))return!0}}catch(c){t=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(t)throw o}}return!1},U=function(){var e,n=(e=Z().mark((function e(n){var t,o;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,I.ci)(n);case 3:t=e.sent,l({message:t.message||"Successfully updated commodity.",severity:"success"}),f(!0),H(),setTimeout((function(){f(!1),r()}),1500),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(0),l({message:(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.data)||"Failed to add new commodity.",severity:"error"}),f(!0),setTimeout((function(){f(!1)}),2e3);case 16:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var n=this,r=arguments;return new Promise((function(t,o){var i=e.apply(n,r);function a(e){B(i,t,o,a,s,"next",e)}function s(e){B(i,t,o,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),$=JSON.stringify(v)!==JSON.stringify(y.phases),J=(null===i||void 0===i?void 0:i.tagalog_name)!==(null===y||void 0===y?void 0:y.tagalog_name)||(null===i||void 0===i?void 0:i.ilokano_name)!==(null===y||void 0===y?void 0:y.ilokano_name)||$;return i?(0,t.jsxs)(w.Z,{open:!0,children:[(0,t.jsx)(S.Z,{sx:L.Z.headerText,children:(0,t.jsx)(d.Z,{children:(0,t.jsxs)(p.Z,{variant:"h5",children:["Updating Commodity: ",null===i||void 0===i?void 0:i.name]})})}),(0,t.jsx)(C.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8},children:(0,t.jsx)(E.Z,{})}),(0,t.jsx)(P.Z,{divider:"true",children:(0,t.jsxs)(_.ZP,{container:!0,sx:L.Z.container,gap:2,children:[(0,t.jsxs)(_.ZP,{size:2,children:[(0,t.jsx)(p.Z,{variant:"h6",children:"Commodity Information"}),(0,t.jsxs)(d.Z,{gap:2,children:[(0,t.jsx)(O.Z,{id:"name",size:"small",label:"Crop Name",value:(null===i||void 0===i?void 0:i.name)||"",fullWidth:!0,margin:"dense",InputProps:{readOnly:!0}}),(0,t.jsx)(O.Z,{id:"tagalog_name",size:"small",label:"Tagalog Name",value:(null===y||void 0===y?void 0:y.tagalog_name)||"",onChange:W,fullWidth:!0,margin:"dense"}),(0,t.jsx)(O.Z,{id:"ilokano_name",size:"small",label:"Iloko Name",value:(null===y||void 0===y?void 0:y.ilokano_name)||"",onChange:W,fullWidth:!0,margin:"dense"})]}),(0,t.jsx)(N.Z,{children:z.map((function(e){var n=y.phases.some((function(n){return n.id===e.id}));return(0,t.jsx)(T.Z,{control:(0,t.jsx)(D.Z,{checked:n,onChange:function(n){return function(e,n){var r=e.target.checked;j((function(e){var t=G(e.phases);return r?t.push(n):t=t.filter((function(e){return e.id!==n.id})),t.sort((function(e,n){return e.order-n.order})),A({},e,{phases:t})}))}(n,e)},disabled:!n&&V(e.id)}),label:e.title,size:"small",sx:{display:!n&&V(e.id)?"none":""}},e.id)}))})]}),(0,t.jsx)(_.ZP,{size:8,children:(0,t.jsxs)(d.Z,{sx:L.Z.selectionSummary,children:[(0,t.jsx)(p.Z,{variant:"h6",children:"Summary"}),(0,t.jsx)(d.Z,{sx:A({},L.Z.welcome,null!=(null===i||void 0===i?void 0:i.name)&&{minHeight:"150px",marginY:1,minWidth:"100%"}),children:y.tagalog_name||y.ilokano_name||0!==y.phases.length?(0,t.jsxs)(d.Z,{children:[(0,t.jsx)("div",{children:(0,t.jsxs)(p.Z,{variant:"body2",children:[(0,t.jsx)("strong",{children:"Crop Name:"})," ",null===i||void 0===i?void 0:i.name]})}),(0,t.jsx)("div",{children:(0,t.jsxs)(p.Z,{variant:"body2",children:[(0,t.jsx)("strong",{children:"Tagalog Name:"})," ",y.tagalog_name]})}),(0,t.jsx)("div",{children:(0,t.jsxs)(p.Z,{variant:"body2",children:[(0,t.jsx)("strong",{children:"Iloko Name:"})," ",y.ilokano_name]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.Z,{variant:"subtitle2",children:"Phases Selected:"}),0===y.phases.length&&(0,t.jsx)(p.Z,{variant:"body2",children:"Please select all that applies"}),y.phases.map((function(e){return(0,t.jsx)(_.ZP,{children:(0,t.jsxs)(p.Z,{variant:"body2",children:[e.title," - ",e.desc]})},e.id)}))]})]}):(0,t.jsx)(d.Z,{children:(0,t.jsx)(p.Z,{variant:"subtitle2",children:"Please enter a value to start."})})})]})})]})}),(0,t.jsxs)(F.Z,{variant:"text",color:"primary",size:"small","aria-label":"outlined button controls group",children:[(0,t.jsx)(b.Z,{variant:"outlined",color:"error",onClick:H,children:"Reset"}),(0,t.jsx)(b.Z,{color:"primary",onClick:function(){U(y)},disabled:!J||y.phases.length<=4,children:"Update"})]}),u&&(0,t.jsx)(m.Z,{openSnackbar:!0,message:s.message,severity:s.severity,closeHandler:function(){f(!1)}})]}):(0,t.jsxs)(w.Z,{open:!0,children:[(0,t.jsx)(S.Z,{sx:L.Z.headerText,children:(0,t.jsx)(d.Z,{children:(0,t.jsx)(p.Z,{variant:"h5",children:"Update Commodity "})})}),(0,t.jsx)(C.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8},children:(0,t.jsx)(E.Z,{})}),(0,t.jsx)(P.Z,{divider:"true",children:(0,t.jsx)(_.ZP,{container:!0,sx:{minWidth:"75vh",minHeight:"60vh"},gap:2,children:(0,t.jsx)(_.ZP,{container:!0,spacing:1,direction:"row",justifyContent:"center",alignItems:"center",alignContent:"center",wrap:"wrap",children:(0,t.jsx)(k.Z,{})})})})]})};function W(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function V(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){W(e,n,r[n])}))}return e}function U(e){return(0,t.jsx)(d.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:(0,t.jsxs)(g.D,V({},e,{children:[(0,t.jsx)(v.S,{}),(0,t.jsx)(h.M,{})]}))})}var $=function(e){var n=e.rows,r=e.columns,a=e.message,s=e.resetMessage,l=e.onRefresh,c=(0,i.v9)((function(e){return e.crops.status})),g=(0,o.useState)(null),v=g[0],h=g[1],j=(0,o.useState)(!1),Z=j[0],w=j[1];return(0,t.jsxs)("div",{children:[(0,t.jsx)(m.Z,{openSnackbar:""!==a,message:a,severity:"info",closeHandlerCB:s}),(0,t.jsx)(p.Z,{variant:"h5",children:"Commodities List"}),(0,t.jsxs)("p",{children:["Manage ",(0,t.jsx)("strong",{children:"commodities"}),". The list will be used as options for the cropping calendar."]}),(0,t.jsx)(f.Z,{sx:{display:"flex",flexDirection:{sm:"column",md:"row"},justifyContent:"space-between",alignItems:"center",padding:"8px 16px 8px 24px"},children:(0,t.jsx)(y.default,{href:"/admin/commodities/create",passHref:!0,children:(0,t.jsx)(b.Z,{children:"New Commodity"})})}),(0,t.jsx)(d.Z,{style:{height:678,width:"100%",textAlign:"left"},children:(0,t.jsx)(f.Z,{sx:{height:"inherit",marginTop:"16px"},children:(0,t.jsx)(x._,{rows:n.length>0?n:[],columns:r,disableDensitySelector:!0,pageSize:10,rowsPerPageOptions:[10],components:{Toolbar:U},loading:c===u.G.PENDING,rowHeight:48,onRowClick:function(e){return function(e){if(e.id){var r=e.id,t=n.find((function(e){return e.id===r}));h(t),w(!0)}else h(null),w(!1)}(e)},initialState:{columns:{columnVisibilityModel:{rowId:!1}}}})})}),Z&&(0,t.jsx)(H,{commodityData:v,onClose:function(){return w(!1)},onSuccess:function(){w(!1),l()}})]})};var J=(0,a.Z)((function(e){var n=(0,o.useState)([]),r=n[0],a=n[1],d=(0,o.useState)([]),f=d[0],p=d[1],g=(0,o.useState)(""),v=g[0],h=g[1],x=(0,o.useRef)(!1),b=(0,i.I0)(),y=(0,o.useState)(!1),j=y[0],Z=y[1],w=(0,o.useState)({}),S=w[0],C=w[1],P=(0,o.useState)(!1),_=P[0],k=P[1],O=(0,i.v9)((function(e){return e.crops})),N=O.ids,T=O.entities,D=O.status;return(0,o.useEffect)((function(){return x.current=!0,function(){x.current=!1}}),[]),(0,o.useEffect)((function(){if([u.G.FULLFILLED,u.G.IDLE].includes(D)&&N.length>0){var e={name:"Crop Name",tagalog_name:"Tagalog Name",ilokano_name:"Ilokano Name",phases:"Crop Phases",updated_by:"Updated by",created_at:"Created at"},n={name:160,tagalog_name:150,ilokano_name:150,phases:230,updated_by:200,created_at:196},r=[];["name","tagalog_name","ilokano_name","phases","updated_by","created_at"].forEach((function(t){r.push({field:t,headerName:e[t],minWidth:n[t],flex:void 0===n[t]?1:0,editable:!1,sortable:!1,disableColumnMenu:!0})}));var t=N.map((function(e){return{id:T[e].id,name:T[e].name,tagalog_name:T[e].tagalog_name||"-",ilokano_name:T[e].ilokano_name||"-",phases:T[e].phases.map((function(e){return e.id})).join(", "),updated_by:T[e].updated_by||"N/A",created_at:T[e].created_at||"N/A"}}));x.current&&(a(t),p(r))}}),[D,N,T]),(0,o.useEffect)((function(){b((0,l.l)()).unwrap().then((function(e){!function(e){e.length>0?C({message:"Successfully fetched ".concat(e.length," commodities."),severity:"info"}):C({message:"No commodities available.",severity:"info"})}(e)})).catch((function(e){console.error("Error fetching commodities:",e),h("Failed to fetch commodities.")}))}),[_,b]),(0,t.jsxs)(s.Z,{loading:e.loading,user:e.user,onBtnLogoutClick:e.onBtnLogoutClick,accLevel:c.DW.ADMIN,children:[(0,t.jsx)($,{rows:r,columns:f,loadingCrops:D===u.G.PENDING,message:v,resetMessage:function(){return h("")},onRefresh:function(){return k((function(e){return!e}))}}),!D&&j&&(0,t.jsx)(m.Z,{openSnackbar:!0,message:S.message,severity:S.severity,closeHandler:function(){Z(!1)}})]})}))}},function(e){e.O(0,[5778,2702,8858,8333,6223,6279,8611,7944,7067,1433,4343,1050,9774,2888,179],(function(){return n=69185,e(e.s=n);var n}));var n=e.O();_N_E=n}]);