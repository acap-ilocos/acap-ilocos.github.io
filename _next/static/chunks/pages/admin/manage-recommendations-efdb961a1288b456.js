(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2535],{87346:function(e,n,t){"use strict";var i=t(64836);n.Z=void 0;var a=i(t(64938)),r=t(85893),o=(0,a.default)([(0,r.jsx)("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm5 11.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z",opacity:".3"},"0"),(0,r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"},"1")],"CancelTwoTone");n.Z=o},77957:function(e,n,t){"use strict";var i=t(64836);n.Z=void 0;var a=i(t(64938)),r=t(85893),o=(0,a.default)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=o},6714:function(e,n,t){"use strict";var i=t(64836);n.Z=void 0;var a=i(t(64938)),r=t(85893),o=(0,a.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");n.Z=o},42701:function(e,n,t){"use strict";var i=t(64836);n.Z=void 0;var a=i(t(64938)),r=t(85893),o=(0,a.default)((0,r.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchTwoTone");n.Z=o},95537:function(e,n,t){"use strict";var i=t(88169),a=t(85893);n.Z=(0,i.Z)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},58951:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var i=t(63366),a=t(87462),r=t(67294),o=t(27192),l=t(11496),s=t(33616),d=t(15861),c=t(28979);function u(e){return(0,c.Z)("MuiDialogContentText",e)}(0,t(76087).Z)("MuiDialogContentText",["root"]);var m=t(85893);const p=["children"],h=(0,l.ZP)(d.Z,{shouldForwardProp:e=>(0,l.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,n)=>n.root})({});var g=r.forwardRef((function(e,n){const t=(0,s.Z)({props:e,name:"MuiDialogContentText"}),r=(0,i.Z)(t,p),l=(e=>{const{classes:n}=e,t=(0,o.Z)({root:["root"]},u,n);return(0,a.Z)({},n,t)})(r);return(0,m.jsx)(h,(0,a.Z)({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:r},t,{classes:l}))}))},6762:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/manage-recommendations",function(){return t(83223)}])},83223:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Ye}});var i=t(85893),a=t(95243),r=t(66383),o=t(67294),l=t(15861),s=t(87357),d=t(40044),c=t(88409),u=t(98456),m=t(94054),p=t(47312),h=t(18972),g=t(18360),v=t(34051),x=t.n(v),f=t(24343),j=t(11057),b=t(50657),y=t(37645),w=t(31425),_=t(6514),Z=t(58951),k=t(5152),O=t(47426),S=function(e,n,t){switch(e){case"crop_stage":return O.OV[t][n];case"climate_risk":return O.Vl[n];case"wind_signal":return O.hl[n];default:return n}};var T=function(e){var n,a=e.selectedRow,r=e.cropType,o=e.action,d=(0,k.default)((function(){return Promise.all([t.e(2554),t.e(7653)]).then(t.bind(t,17653))}),{loadableGenerated:{webpack:function(){return[17653]}},ssr:!1});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{component:"span",variant:"body1",children:(0,i.jsx)("strong",{children:"Crop:"})}),(0,i.jsx)(s.Z,{ml:1,component:"span",children:(0,i.jsx)(l.Z,{component:"span",variant:"body1",children:null===a||void 0===a?void 0:a.row.crop})})]}),(0,i.jsxs)("span",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{component:"span",variant:"body1",children:(0,i.jsx)("strong",{children:"Crop Stage:"})}),(0,i.jsx)(s.Z,{ml:1,component:"span",children:(0,i.jsx)(l.Z,{component:"span",variant:"body1",children:null===a||void 0===a||null===(n=a.row)||void 0===n?void 0:n.crop_stage})})]}),(0,i.jsxs)("span",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{component:"span",variant:"body1",children:(0,i.jsx)("strong",{children:"Farming Activity:"})}),(0,i.jsx)(s.Z,{ml:1,component:"span",children:(0,i.jsx)(l.Z,{component:"span",variant:"body1",children:S("farming_activity",null===a||void 0===a?void 0:a.row.farming_activity,r)})})]}),(0,i.jsxs)("span",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{component:"span",variant:"body1",children:(0,i.jsx)("strong",{children:"Climate Risk:"})}),(0,i.jsx)(s.Z,{ml:1,component:"span",children:(0,i.jsx)(l.Z,{component:"span",variant:"body1",children:S("climate_risk",null===a||void 0===a?void 0:a.row.climate_risk,r)})})]}),"View"===o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{children:[(0,i.jsx)(l.Z,{component:"span",variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Impact Outlook English:"})}),(0,i.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null===a||void 0===a?void 0:a.row.impact_outlook_english}})]}),(0,i.jsxs)("span",{children:[(0,i.jsx)(l.Z,{component:"span",variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,i.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null===a||void 0===a?void 0:a.row.impact_outlook_tagalog}})]}),(0,i.jsxs)("span",{children:[(0,i.jsx)(l.Z,{component:"span",variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Management Recommendations English:"})}),(0,i.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null===a||void 0===a?void 0:a.row.management_recommendations_english}})]}),(0,i.jsxs)("span",{children:[(0,i.jsx)(l.Z,{component:"span",variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Management Recommendations Tagalog:"})}),(0,i.jsx)("span",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null===a||void 0===a?void 0:a.row.management_recommendations_tagalog}})]})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{component:"span",variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Impact Outlook English:"})}),(0,i.jsxs)("span",{children:[(0,i.jsx)("textarea",{id:"impactOutlookEnglish",name:"impactOutlookEnglish",hidden:!0}),(0,i.jsx)(d,{name:"impactOutlookEnglish",editorLoaded:!0,value:null===a||void 0===a?void 0:a.row.impact_outlook_english,isText:!1,isDisabled:!1,setContentCallback:function(e){document.getElementById("impactOutlookEnglish").value=e}})]}),(0,i.jsx)("br",{}),(0,i.jsx)(l.Z,{component:"span",variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,i.jsxs)("span",{children:[(0,i.jsx)("textarea",{id:"impactOutlookTagalog",name:"impactOutlookTagalog",hidden:!0}),(0,i.jsx)(d,{name:"impactOutlookTagalog",editorLoaded:!0,value:null===a||void 0===a?void 0:a.row.impact_outlook_tagalog,isText:!1,isDisabled:!1,setContentCallback:function(e){document.getElementById("impactOutlookTagalog").value=e}})]}),(0,i.jsx)("br",{}),(0,i.jsx)(l.Z,{component:"span",variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Managemenent Recommendations English:"})}),(0,i.jsxs)("span",{children:[(0,i.jsx)("textarea",{id:"managementRecommendationsEnglish",name:"managementRecommendationsEnglish",hidden:!0}),(0,i.jsx)(d,{name:"managementRecommendationsEnglish",editorLoaded:!0,value:null===a||void 0===a?void 0:a.row.management_recommendations_english,isText:!1,isDisabled:!1,setContentCallback:function(e){document.getElementById("managementRecommendationsEnglish").value=e}})]}),(0,i.jsx)("br",{}),(0,i.jsx)(l.Z,{component:"span",variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Managemenent Recommendations Tagalog:"})}),(0,i.jsxs)("span",{children:[(0,i.jsx)("textarea",{id:"managementRecommendationsTagalog",name:"managementRecommendationsTagalog",hidden:!0}),(0,i.jsx)(d,{name:"managementRecommendationsTagalog",editorLoaded:!0,value:null===a||void 0===a?void 0:a.row.management_recommendations_tagalog,isText:!1,isDisabled:!1,setContentCallback:function(e){document.getElementById("managementRecommendationsTagalog").value=e}})]})]})]})},C=t(61903);var R=function(e){var n=e.selectedRow,t=e.action;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{component:"span",variant:"body1",children:(0,i.jsx)("strong",{children:"Crop:"})}),(0,i.jsx)(s.Z,{ml:1,component:"span",children:(0,i.jsx)(l.Z,{component:"span",variant:"body1",children:null===n||void 0===n?void 0:n.row.crop})})]}),(0,i.jsxs)("span",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{component:"span",variant:"body1",children:(0,i.jsx)("strong",{children:"Climate Risk:"})}),(0,i.jsx)(s.Z,{ml:1,component:"span",children:(0,i.jsx)(l.Z,{component:"span",variant:"body1",children:S("climate_risk",null===n||void 0===n?void 0:n.row.climate_risk,null)})})]}),(0,i.jsx)(l.Z,{component:"span",variant:"subtitle1",children:(0,i.jsx)("strong",{children:"SMS:"})}),(0,i.jsx)(s.Z,{sx:{marginTop:"16px"},children:"View"===t?(0,i.jsx)(l.Z,{variant:"subtitle1",children:null===n||void 0===n?void 0:n.row.sms}):(0,i.jsx)(C.Z,{fullWidth:!0,multiline:!0,minRows:3,id:"sms",name:"sms",label:"Outlined",variant:"outlined",defaultValue:null===n||void 0===n?void 0:n.row.sms})})]})};var E=function(e){var n,a=e.selectedRow,r=e.cropType,o=e.action,s=(0,k.default)((function(){return Promise.all([t.e(2554),t.e(7653)]).then(t.bind(t,17653))}),{loadableGenerated:{webpack:function(){return[17653]}},ssr:!1});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,i.jsx)(l.Z,{variant:"subtitle1",children:null===a||void 0===a?void 0:a.row.crop})]}),(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Crop Stage:"})}),"\xa0",(0,i.jsx)(l.Z,{variant:"subtitle1",children:null===a||void 0===a||null===(n=a.row)||void 0===n?void 0:n.crop_stage})]}),(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Farming Activity:"})}),"\xa0",(0,i.jsx)(l.Z,{variant:"subtitle1",children:S("farming_activity",null===a||void 0===a?void 0:a.row.farming_activity,r)})]}),(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Climate Risk:"})}),"\xa0",(0,i.jsx)(l.Z,{variant:"subtitle1",children:S("climate_risk",null===a||void 0===a?void 0:a.row.climate_risk,r)})]}),"View"===o?(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Impact Outlook English:"})}),(0,i.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null===a||void 0===a?void 0:a.row.impact_outlook_english}})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,i.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null===a||void 0===a?void 0:a.row.impact_outlook_tagalog}})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Management Recommendations English:"})}),(0,i.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null===a||void 0===a?void 0:a.row.management_recommendations_english}})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Management Recommendations Tagalog:"})}),(0,i.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null===a||void 0===a?void 0:a.row.management_recommendations_tagalog}})]})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Impact Outlook English:"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("textarea",{id:"impactOutlookEnglish",name:"impactOutlookEnglish",hidden:!0}),(0,i.jsx)(s,{name:"impactOutlookEnglish",editorLoaded:!0,value:null===a||void 0===a?void 0:a.row.impact_outlook_english,isText:!1,isDisabled:!1,setContentCallback:function(e){document.getElementById("impactOutlookEnglish").value=e}})]}),(0,i.jsx)("br",{}),(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("textarea",{id:"impactOutlookTagalog",name:"impactOutlookTagalog",hidden:!0}),(0,i.jsx)(s,{name:"impactOutlookTagalog",editorLoaded:!0,value:null===a||void 0===a?void 0:a.row.impact_outlook_tagalog,isText:!1,isDisabled:!1,setContentCallback:function(e){document.getElementById("impactOutlookTagalog").value=e}})]}),(0,i.jsx)("br",{}),(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Managemenent Recommendations English:"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("textarea",{id:"managementRecommendationsEnglish",name:"managementRecommendationsEnglish",hidden:!0}),(0,i.jsx)(s,{name:"managementRecommendationsEnglish",editorLoaded:!0,value:null===a||void 0===a?void 0:a.row.management_recommendations_english,isText:!1,isDisabled:!1,setContentCallback:function(e){document.getElementById("managementRecommendationsEnglish").value=e}})]}),(0,i.jsx)("br",{}),(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Managemenent Recommendations Tagalog:"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("textarea",{id:"managementRecommendationsTagalog",name:"managementRecommendationsTagalog",hidden:!0}),(0,i.jsx)(s,{name:"managementRecommendationsTagalog",editorLoaded:!0,value:null===a||void 0===a?void 0:a.row.management_recommendations_tagalog,isText:!1,isDisabled:!1,setContentCallback:function(e){document.getElementById("managementRecommendationsTagalog").value=e}})]})]})]})};var P=function(e){var n=e.selectedRow,t=e.action;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,i.jsx)(l.Z,{variant:"subtitle1",children:null===n||void 0===n?void 0:n.row.crop})]}),(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Climate Risk:"})}),"\xa0",(0,i.jsx)(l.Z,{variant:"subtitle1",children:S("climate_risk",null===n||void 0===n?void 0:n.row.climate_risk,null)})]}),(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"SMS:"})}),(0,i.jsx)(s.Z,{sx:{marginTop:"16px"},children:"View"===t?(0,i.jsx)(l.Z,{variant:"subtitle1",children:null===n||void 0===n?void 0:n.row.sms}):(0,i.jsx)(C.Z,{fullWidth:!0,multiline:!0,minRows:3,id:"sms",name:"sms",label:"Outlined",variant:"outlined",defaultValue:null===n||void 0===n?void 0:n.row.sms})})]})};var M=function(e){var n=e.selectedRow,a=e.cropType,r=e.action,o=(0,k.default)((function(){return Promise.all([t.e(2554),t.e(7653)]).then(t.bind(t,17653))}),{loadableGenerated:{webpack:function(){return[17653]}},ssr:!1});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,i.jsx)(l.Z,{variant:"subtitle1",children:null===n||void 0===n?void 0:n.row.crop})]}),(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Wind Signal:"})}),"\xa0",(0,i.jsx)(l.Z,{variant:"subtitle1",children:S("wind_signal",null===n||void 0===n?void 0:n.row.wind_signal,a)})]}),"View"===r?(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Impact Outlook English:"})}),(0,i.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null===n||void 0===n?void 0:n.row.impact_outlook_english}})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,i.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null===n||void 0===n?void 0:n.row.impact_outlook_tagalog}})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Management Recommendations English:"})}),(0,i.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null===n||void 0===n?void 0:n.row.management_recommendations_english}})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Management Recommendations Tagalog:"})}),(0,i.jsx)("div",{style:{textAlign:"left",whiteSpace:"normal",wordWrap:"break-word"},dangerouslySetInnerHTML:{__html:null===n||void 0===n?void 0:n.row.management_recommendations_tagalog}})]})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Impact Outlook English:"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("textarea",{id:"impactOutlookEnglish",name:"impactOutlookEnglish",hidden:!0}),(0,i.jsx)(o,{name:"impactOutlookEnglish",editorLoaded:!0,value:null===n||void 0===n?void 0:n.row.impact_outlook_english,isText:!1,isDisabled:!1,setContentCallback:function(e){document.getElementById("impactOutlookEnglish").value=e}})]}),(0,i.jsx)("br",{}),(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Impact Outlook Tagalog:"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("textarea",{id:"impactOutlookTagalog",name:"impactOutlookTagalog",hidden:!0}),(0,i.jsx)(o,{name:"impactOutlookTagalog",editorLoaded:!0,value:null===n||void 0===n?void 0:n.row.impact_outlook_tagalog,isText:!1,isDisabled:!1,setContentCallback:function(e){document.getElementById("impactOutlookTagalog").value=e}})]}),(0,i.jsx)("br",{}),(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Managemenent Recommendations English:"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("textarea",{id:"managementRecommendationsEnglish",name:"managementRecommendationsEnglish",hidden:!0}),(0,i.jsx)(o,{name:"managementRecommendationsEnglish",editorLoaded:!0,value:null===n||void 0===n?void 0:n.row.management_recommendations_english,isText:!1,isDisabled:!1,setContentCallback:function(e){document.getElementById("managementRecommendationsEnglish").value=e}})]}),(0,i.jsx)("br",{}),(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Managemenent Recommendations Tagalog:"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("textarea",{id:"managementRecommendationsTagalog",name:"managementRecommendationsTagalog",hidden:!0}),(0,i.jsx)(o,{name:"managementRecommendationsTagalog",editorLoaded:!0,value:null===n||void 0===n?void 0:n.row.management_recommendations_tagalog,isText:!1,isDisabled:!1,setContentCallback:function(e){document.getElementById("managementRecommendationsTagalog").value=e}})]})]})]})};var I=function(e){var n=e.selectedRow,t=e.cropType,a=e.action;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Crop:"})}),"\xa0",(0,i.jsx)(l.Z,{variant:"subtitle1",children:null===n||void 0===n?void 0:n.row.crop})]}),(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"Wind Signal:"})}),"\xa0",(0,i.jsx)(l.Z,{variant:"subtitle1",children:S("wind_signal",null===n||void 0===n?void 0:n.row.wind_signal,t)})]}),(0,i.jsx)(l.Z,{variant:"subtitle1",children:(0,i.jsx)("strong",{children:"SMS:"})}),"\xa0",(0,i.jsx)(l.Z,{variant:"subtitle1",children:null===n||void 0===n?void 0:n.row.sms}),(0,i.jsx)(s.Z,{sx:{marginTop:"16px"},children:"View"===a?(0,i.jsx)(l.Z,{variant:"subtitle1",children:null===n||void 0===n?void 0:n.row.sms}):(0,i.jsx)(C.Z,{fullWidth:!0,multiline:!0,minRows:3,id:"sms",name:"sms",label:"Outlined",variant:"outlined",defaultValue:null===n||void 0===n?void 0:n.row.sms})})]})};function N(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){N(e,n,t[n])}))}return e}var D=function(e){var n=e.action,t=e.open,a=e.handleClose,r=e.selectedRow,o=e.cropType,l=e.recommendationType,s=e.handleSubmit;return(0,i.jsxs)(b.Z,{fullWidth:!0,maxWidth:"md",open:t,onClose:a,PaperProps:{component:"form",onSubmit:function(e){if(e.preventDefault(),l.label.includes("SMS")){var n=e.target.sms;delete r.row.crop_stage,s(W({},r.row,{sms:n.value||r.row.sms}))}else{var t=e.target,i=t.impactOutlookEnglish,a=t.impactOutlookTagalog,o=t.managementRecommendationsEnglish,d=t.managementRecommendationsTagalog;s(W({},r.row,{impact_outlook_english:i.value||r.row.impact_outlook_english,impact_outlook_tagalog:a.value||r.row.impact_outlook_tagalog,management_recommendations_english:o.value||r.row.management_recommendations_english,management_recommendations_tagalog:d.value||r.row.management_recommendations_tagalog}))}}},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,i.jsx)(y.Z,{id:"alert-dialog-title",children:"View"===n?"View ".concat(l.label," Recommendation"):"Edit ".concat(l.label," Recommendation")}),(0,i.jsx)(_.Z,{dividers:!0,children:(0,i.jsxs)(Z.Z,{id:"alert-dialog-description",children:["tenday"===l.value&&(0,i.jsx)(T,{selectedRow:r,cropType:o,action:n}),"tenday_sms"===l.value&&(0,i.jsx)(R,{selectedRow:r,action:n}),"seasonal"===l.value&&(0,i.jsx)(E,{selectedRow:r,cropType:o,action:n}),"seasonal_sms"===l.value&&(0,i.jsx)(P,{selectedRow:r,action:n}),"special"===l.value&&(0,i.jsx)(M,{selectedRow:r,cropType:o,action:n}),"special_sms"===l.value&&(0,i.jsx)(I,{selectedRow:r,cropType:o,action:n})]})}),(0,i.jsxs)(w.Z,{children:[(0,i.jsx)(j.Z,{onClick:a,children:"Close"}),"Edit"===n&&(0,i.jsx)(j.Z,{type:"submit",children:"Update"})]})]})},F=t(55688),L=t(6714),A=t(77957);var z=function(e){var n=e.params,t=e.setSelectedRow,a=e.setOpen,r=e.setAction,o=function(e){t(n),a(!0),r(e)};return(0,i.jsxs)(s.Z,{sx:{m:1,position:"relative"},children:[(0,i.jsx)(L.Z,{color:"primary",sx:{"&:hover":{cursor:"pointer"},marginRight:"16px"},onClick:function(){return o("View")}}),(0,i.jsx)(A.Z,{color:"primary",sx:{"&:hover":{cursor:"pointer"}},onClick:function(){return o("Edit")}})]})},B=function(e,n,t,a,r){return[{field:"",headerName:"",type:"actions",renderCell:function(e){return e.api.getRowIndex(e.id)+1}},{field:"actions",headerName:"Actions",type:"actions",renderCell:function(e){return(0,i.jsx)(z,{params:e,setSelectedRow:n,setOpen:t,setAction:a})}},{field:"crop",headerName:"Crop",width:100},{field:"crop_stage",headerName:"Crop Stage",width:200,renderCell:function(e){var n;return null===r||void 0===r||null===(n=r[e.value])||void 0===n?void 0:n.label}},{field:"farming_activity",headerName:"Farming Activity",width:170},{field:"climate_risk",headerName:"Climate Risk",width:150,renderCell:function(n){return S(n.field,n.value,e)}},{field:"impact_outlook_english",headerName:"Impact Outlook English",width:200},{field:"impact_outlook_tagalog",headerName:"Impact Outlook Tagalog",width:200},{field:"management_recommendations_english",headerName:"Management Recommendations English",width:300},{field:"management_recommendations_tagalog",headerName:"Management Recommendations Tagalog",width:300}]},H=t(1096);function V(e,n,t,i,a,r,o){try{var l=e[r](o),s=l.value}catch(d){return void t(d)}l.done?n(s):Promise.resolve(s).then(i,a)}function U(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){U(e,n,t[n])}))}return e}var X=function(e){var n=e.rows,t=e.tab,a=e.cropType,r=e.cropStages,l="",d=(0,o.useState)(!1),c=d[0],u=d[1],m=(0,o.useState)(null),p=m[0],h=m[1],g=(0,o.useState)(null),v=g[0],j=g[1],b=(0,o.useState)({open:!1,message:"",severity:""}),y=b[0],w=b[1],_=function(){u(!1)},Z=function(){var e,n=(e=x().mark((function e(n){var i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=["docid","sms","impact_outlook_english","impact_outlook_english","management_recommendations_english","management_recommendations_tagalog"],e.prev=1,e.next=4,(0,H.vU)({type:t.value,newRecommendation:i.reduce((function(e,t){return G({},e,n[t]&&U({},t,n[t]))}),{})});case 4:w({open:!0,message:"Successfully edited recommendation.",severity:"success"}),window.location.reload(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),w({open:!0,message:e.t0.message||"Something went wrong.",error:e.t0.message,severity:"error"});case 11:_();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var n=this,t=arguments;return new Promise((function(i,a){var r=e.apply(n,t);function o(e){V(r,i,a,o,l,"next",e)}function l(e){V(r,i,a,o,l,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}(),k=function(e){var n;h(G({},e,{row:G({},e.row,{crop_stage:null===r||void 0===r||null===(n=r[e.row.crop_stage])||void 0===n?void 0:n.label})}))};switch(t.value){case"tenday":default:l=B(a,k,u,j,r);break;case"tenday_sms":case"seasonal_sms":l=function(e,n,t){return[{field:"",headerName:"",type:"actions",renderCell:function(e){return e.api.getRowIndex(e.id)+1}},{field:"actions",headerName:"Actions",type:"actions",renderCell:function(a){return(0,i.jsx)(z,{isSMS:!0,params:a,setSelectedRow:e,setOpen:n,setAction:t})}},{field:"crop",headerName:"Crop",width:100},{field:"climate_risk",headerName:"Climate Risk",width:170,renderCell:function(e){return S(e.field,e.value,null)}},{field:"sms",headerName:"SMS",width:500}]}(k,u,j);break;case"seasonal":l=function(e,n,t,a,r){return[{field:"",headerName:"",type:"actions",renderCell:function(e){return e.api.getRowIndex(e.id)+1}},{field:"actions",headerName:"Actions",type:"actions",renderCell:function(e){return(0,i.jsx)(z,{params:e,setSelectedRow:n,setOpen:t,setAction:a})}},{field:"crop",headerName:"Crop",width:100},{field:"crop_stage",headerName:"Crop Stage",width:200,renderCell:function(e){var n;return null===r||void 0===r||null===(n=r[e.value])||void 0===n?void 0:n.label}},{field:"farming_activity",headerName:"Farming Activity",width:170},{field:"climate_risk",headerName:"Climate Risk",width:150,renderCell:function(n){return S(n.field,n.value,e)}},{field:"impact_outlook_english",headerName:"Impact Outlook English",width:200},{field:"impact_outlook_tagalog",headerName:"Impact Outlook Tagalog",width:200},{field:"management_recommendations_english",headerName:"Management Recommendations English",width:300},{field:"management_recommendations_tagalog",headerName:"Management Recommendations Tagalog",width:300}]}(a,k,u,j,r);break;case"special":l=function(e,n,t){return[{field:"",headerName:"",type:"actions",renderCell:function(e){return e.api.getRowIndex(e.id)+1}},{field:"actions",headerName:"Actions",type:"actions",renderCell:function(a){return(0,i.jsx)(z,{params:a,setSelectedRow:e,setOpen:n,setAction:t})}},{field:"crop",headerName:"Crop",width:100},{field:"wind_signal",headerName:"Wind Signal",width:170,renderCell:function(e){return S(e.field,e.value,null)}},{field:"impact_outlook_english",headerName:"Impact Outlook English",width:200},{field:"impact_outlook_tagalog",headerName:"Impact Outlook Tagalog",width:200},{field:"management_recommendations_english",headerName:"Management Recommendations English",width:300},{field:"management_recommendations_tagalog",headerName:"Management Recommendations Tagalog",width:300}]}(k,u,j);break;case"special_sms":l=function(e,n,t){return[{field:"",headerName:"",type:"actions",renderCell:function(e){return e.api.getRowIndex(e.id)+1}},{field:"actions",headerName:"Actions",type:"actions",renderCell:function(a){return(0,i.jsx)(z,{isSMS:!0,params:a,setSelectedRow:e,setOpen:n,setAction:t})}},{field:"crop",headerName:"Crop",width:100},{field:"wind_signal",headerName:"Wind Signal",width:170,renderCell:function(e){return S(e.field,e.value,null)}},{field:"sms",headerName:"SMS",width:500}]}(k,u,j)}return(0,i.jsxs)("div",{children:[(0,i.jsx)(F.Z,{openSnackbar:y.open,message:y.message,severity:y.severity,closeHandlerCB:function(){w(G({},y,{open:!1}))}}),(0,i.jsx)(D,{action:v,open:c,handleClose:_,selectedRow:p,cropType:a,recommendationType:t,handleSubmit:Z}),(0,i.jsx)(s.Z,{sx:{height:700,width:"100%"},children:(0,i.jsx)(f._,{density:"compact",rows:n,columns:l,initialState:{pagination:{paginationModel:{pageSize:5}}},pageSizeOptions:[5],disableRowSelectionOnClick:!0})})]})};function q(e,n,t,i,a,r,o){try{var l=e[r](o),s=l.value}catch(d){return void t(d)}l.done?n(s):Promise.resolve(s).then(i,a)}function Y(e,n){var t=(0,o.useState)([]),i=t[0],a=t[1],r=(0,o.useState)(!1),l=r[0],s=r[1],d=(0,o.useState)(""),c=d[0],u=d[1];return(0,o.useEffect)((function(){var t=function(){var t,i=(t=x().mark((function t(){var i,r,o,l;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,H.sT)({crop:e,type:n});case 3:i=t.sent,a(i||[]),t.next=14;break;case 7:t.prev=7,t.t0=t.catch(0),l=null!==(o=null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r?void 0:r.data)&&void 0!==o?o:t.t0.message,u(l),s(!1);case 14:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(e){q(r,i,a,o,l,"next",e)}function l(e){q(r,i,a,o,l,"throw",e)}o(void 0)}))});return function(){return i.apply(this,arguments)}}();e&&n&&t()}),[e,n]),{recommendations:i,loading:l,error:c}}var J=t(32848),K=t(38885);function Q(e,n,t,i,a,r,o){try{var l=e[r](o),s=l.value}catch(d){return void t(d)}l.done?n(s):Promise.resolve(s).then(i,a)}function $(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ee(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){$(e,n,t[n])}))}return e}var ne="load",te="fetch_success",ie="fetch_error",ae="set",re={stages:null,selectedStages:null,loading:!0,error:""},oe=function(e,n){if(n.type===ne)return ee({},e,{loading:!0,error:""});if(n.type===te)return ee({},e,{loading:!1,stages:n.payload});if(n.type===ie)return ee({},e,{stages:null,error:n.payload});if(n.type===ae)return ee({},e,{selectedStages:n.payload});throw new Error("Invalid action type")};function le(e){var n=(0,o.useReducer)(oe,re),t=n[0],i=n[1],a=(0,K.Z)(),r=a.loadingCrops,l=a.cropList;return(0,o.useEffect)((function(){var e=function(){var e,n=(e=x().mark((function e(){var n,t,a,r,o,l=arguments;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:[],e.prev=1,t=[],n.forEach((function(e){return t.push((0,J.Fj)(e))})),e.next=6,Promise.all(t);case 6:a=e.sent,i({type:te,payload:n.reduce((function(e,n,t){return ee({},e,$({},n,a[t].data))}),{})}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),i({type:ie,payload:null!==(o=null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.data)&&void 0!==o?o:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})),function(){var n=this,t=arguments;return new Promise((function(i,a){var r=e.apply(n,t);function o(e){Q(r,i,a,o,l,"next",e)}function l(e){Q(r,i,a,o,l,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();!r&&(null===l||void 0===l?void 0:l.length)>0&&e(l)}),[l,r]),(0,o.useEffect)((function(){var n,a;e&&t.stages&&i({type:ae,payload:null!==(a=null===(n=t.stages)||void 0===n?void 0:n[e])&&void 0!==a?a:null})}),[e,t.stages]),t}var se=t(82280),de=t(38895),ce=t(22797),ue=t(86886),me=(0,t(88169).Z)((0,i.jsx)("path",{d:"M15.88 9.29 12 13.17 8.12 9.29a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41-.39-.38-1.03-.39-1.42 0z"}),"ExpandMoreRounded");var pe=function(e){var n=e.onClose,t=e.onUpdate,a=e.cropData,r=e.recommendationData,d=[{id:"drought",name:"Drought"},{id:"dry_condition",name:"Dry Condition"},{id:"dry_spell",name:"Dry Spell"},{id:"no_risk",name:"No Risk"},{id:"wetter_condition",name:"Wetter Condition"}];return(0,o.useEffect)((function(){}),[r]),(0,i.jsxs)(b.Z,{open:!0,onClose:n,fullWidth:!0,maxWidth:"md","aria-labelledby":"update-recommendation-title",children:[(0,i.jsxs)(y.Z,{id:"update-recommendation-title",children:["Updating Recommendations for ",a.name]}),(0,i.jsx)(_.Z,{dividers:!0,sx:{maxHeight:"60vh",overflowY:"auto"},fullWidth:!0,children:a.phases.map((function(e){return(0,i.jsxs)(se.Z,{children:[(0,i.jsx)(de.Z,{expandIcon:(0,i.jsx)(me,{}),children:(0,i.jsx)(l.Z,{variant:"h6",fontSize:18,color:"initial",sx:{color:"#232c5e"},children:(0,i.jsx)("strong",{children:e.title})})}),(0,i.jsx)(ce.Z,{children:d.map((function(e){return(0,i.jsxs)(se.Z,{children:[(0,i.jsx)(de.Z,{expandIcon:(0,i.jsx)(me,{}),children:(0,i.jsx)(l.Z,{children:(0,i.jsx)("strong",{children:e.name})})}),(0,i.jsxs)(ce.Z,{children:[(0,i.jsxs)(s.Z,{fullWidth:!0,children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:"Impact Outlook"}),(0,i.jsxs)(ue.ZP,{container:!0,spacing:2,fullWidth:!0,children:[(0,i.jsxs)(ue.ZP,{item:!0,xs:12,fullWidth:!0,children:[(0,i.jsx)(l.Z,{variant:"subtitle2",children:"English:"}),(0,i.jsx)(C.Z,{fullWidth:!0,size:"small"})]}),(0,i.jsxs)(ue.ZP,{item:!0,xs:12,fullWidth:!0,children:[(0,i.jsx)(l.Z,{variant:"subtitle2",children:"Tagalog:"}),(0,i.jsx)(C.Z,{fullWidth:!0,size:"small"})]}),(0,i.jsxs)(ue.ZP,{item:!0,xs:12,fullWidth:!0,children:[(0,i.jsx)(l.Z,{variant:"subtitle2",children:"Ilokano:"}),(0,i.jsx)(C.Z,{fullWidth:!0,size:"small"})]})]})]}),(0,i.jsxs)(s.Z,{fullWidth:!0,children:[(0,i.jsx)(l.Z,{variant:"subtitle1",children:"Management Recommendations"}),(0,i.jsxs)(ue.ZP,{container:!0,spacing:2,fullWidth:!0,children:[(0,i.jsxs)(ue.ZP,{item:!0,xs:12,fullWidth:!0,children:[(0,i.jsx)(l.Z,{variant:"subtitle2",children:"English:"}),(0,i.jsx)(C.Z,{fullWidth:!0,size:"small"})]}),(0,i.jsxs)(ue.ZP,{item:!0,xs:12,fullWidth:!0,children:[(0,i.jsx)(l.Z,{variant:"subtitle2",children:"Tagalog:"}),(0,i.jsx)(C.Z,{fullWidth:!0,size:"small"})]}),(0,i.jsxs)(ue.ZP,{item:!0,xs:12,fullWidth:!0,children:[(0,i.jsx)(l.Z,{variant:"subtitle2",children:"Ilokano:"}),(0,i.jsx)(C.Z,{fullWidth:!0,size:"small"})]})]})]})]})]},e.id)}))})]},e.id)}))}),(0,i.jsxs)(w.Z,{sx:{px:2,py:2},children:[(0,i.jsx)(j.Z,{onClick:n,variant:"outlined",children:"Cancel"}),(0,i.jsx)(j.Z,{onClick:t,variant:"contained",color:"primary",children:"Update"})]})]})},he=t(9473),ge=t(37647);function ve(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function xe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){ve(e,n,t[n])}))}return e}function fe(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var je=[{index:0,label:"Ten Day",value:"tenday"},{index:1,label:"Ten Day SMS",value:"tenday_sms"},{index:2,label:"Seasonal",value:"seasonal"},{index:3,label:"Seasonal SMS",value:"seasonal_sms"},{index:4,label:"Special",value:"special"},{index:5,label:"Special SMS",value:"special_sms"}];var be=function(){var e=function(e){var n=e.children,t=e.value,a=e.index,r=fe(e,["children","value","index"]);return(0,i.jsx)("div",xe({role:"tabpanel",hidden:t!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r,{children:t===a&&(0,i.jsx)(s.Z,{sx:{py:3,whiteSpace:e.smsstyle},children:n})}))},n=(0,he.I0)(),t=(0,o.useState)([]),a=t[0],r=t[1],v=(0,o.useState)(""),x=v[0],f=v[1],j=(0,o.useState)({}),b=j[0],y=j[1],w=(0,o.useState)({index:0,label:"Ten Day",value:"tenday"}),_=w[0],Z=w[1],k=(0,o.useState)(0),O=k[0],S=k[1],T=le(x),C=T.selectedStages,R=T.loading,E=Y(x,_.value),P=E.recommendations,M=E.loading,I=E.error,N=(0,o.useState)({}),W=N[0],D=N[1],L=(0,o.useState)(!1),A=L[0],z=L[1],B=(0,o.useState)(!1),H=B[0],V=B[1];return(0,o.useEffect)((function(){n((0,ge.l)()).unwrap().then((function(e){e.length>0?(r(e),f(e[0].name),y(e[0])):(D({message:"No commodities available.",severity:"info"}),z(!0),setTimeout((function(){D({}),z(!1)}),2e3))})).catch((function(e){var n,t,i;D({message:(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||(null===e||void 0===e||null===(i=e.response)||void 0===i?void 0:i.data)||"Failed to update cropping calendar.",severity:"error"}),z(!0),setTimeout((function(){D({}),z(!1)}),2e3)}))}),[n]),(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Manage recommendations"})," by viewing, adding, editing, deleting a recommendation."]}),(0,i.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsx)(s.Z,{sx:{width:200,marginTop:"30px"},children:(0,i.jsxs)(m.Z,{fullWidth:!0,size:"small",children:[(0,i.jsx)(p.Z,{id:"demo-simple-select-label",children:"Crop Type"}),(0,i.jsx)(g.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:x,label:"Crop Type",onChange:function(e){var n=a.find((function(n){return n.name===e.target.value}));f(e.target.value),y(n)},children:a.map((function(e){return(0,i.jsx)(h.Z,{value:e.name,children:e.name},e.id)}))})]})}),(0,i.jsx)(s.Z,{})]}),(0,i.jsx)(s.Z,{sx:{width:"100%",marginTop:{xs:"15px",lg:"25px"},textAlign:"center"},children:M||R?(0,i.jsxs)("div",{sx:{display:"flex",justifyContent:"center"},children:[(0,i.jsx)("span",{children:"Loading..."}),(0,i.jsx)(u.Z,{size:24,color:"primary"})]}):(0,i.jsx)(i.Fragment,{children:I?(0,i.jsx)(l.Z,{variant:"body1",color:"error",children:"Something went wrong. Unable to retrieve recommendations."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,i.jsx)(c.Z,{value:O,onChange:function(e,n){S(n),Z(je[n])},"aria-label":"basic tabs example",children:je.map((function(e,n){return(0,i.jsx)(d.Z,xe({label:e.label},function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(n)),n)}))})}),(0,i.jsx)(e,{value:_.index,index:_.index,children:null!==C&&(0,i.jsx)(X,{rows:P,tab:_,cropType:x,cropStages:C})})]})})}),H&&(0,i.jsx)(pe,{cropData:b,onClose:function(){return V(!1)},recommendationData:P}),A&&(0,i.jsx)(F.Z,{openSnackbar:!0,message:W.message,severity:W.severity,closeHandler:function(){z(!1)}})]})},ye=t(9669),we=t.n(ye),_e=t(99431);function Ze(e,n,t,i,a,r,o){try{var l=e[r](o),s=l.value}catch(d){return void t(d)}l.done?n(s):Promise.resolve(s).then(i,a)}function ke(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Oe(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Se(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Te(e){return Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(e)}function Ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){Se(e,n,t[n])}))}return e}function Re(e,n){return!n||"object"!==Pe(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Ee(e,n){return Ee=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},Ee(e,n)}var Pe=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Me(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,i=Te(e);if(n){var a=Te(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return Re(this,t)}}var Ie=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ee(e,n)}(r,e);var n,t,i,a=Me(r);function r(){return ke(this,r),a.apply(this,arguments)}return n=r,t=[{key:"upsertCropRecommendations",value:function(e,n){var t,i=this;return(t=x().mark((function t(){var a,r;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.createRequestObject({body:e});case 2:return a=t.sent,t.next=5,we()(Ce({},a,{url:"".concat("https://amia-cis-vkzk.onrender.com/api","/uploadCropRecommendations/").concat(n),method:"POST"}));case 5:return r=t.sent,t.abrupt("return",r.data);case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(e){Ze(r,i,a,o,l,"next",e)}function l(e){Ze(r,i,a,o,l,"throw",e)}o(void 0)}))})()}}],t&&Oe(n.prototype,t),i&&Oe(n,i),r}(_e.Z),Ne=new Ie,We=Ne.upsertCropRecommendations.bind(Ne),De=t(26660),Fe=t(901),Le=t(93278),Ae={button:{color:"#FFFFFF",textTransform:"capitalize",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",width:"80px",height:{xs:"40px",sm:"48px"}},container:{padding:"24px",width:"100%",position:"relative",minWidth:"0px",overflowWrap:"break-word",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",borderRadius:"16px",margin:"auto",borderColor:"#E2E8F0"},tabsContainer:{marginTop:function(e){return e.spacing(8)},border:function(e){return"1px solid ".concat(e.palette.bacap.border)},minHeight:"800px",borderRadius:"8px",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px"},customizedButtonLink:{cursor:"pointer",color:"#8BC24A",textDecoration:"underline",fontWeight:600},subheader:{marginBottom:function(e){return e.spacing(3)},maxWidth:"800px",color:"gray","& a":{textDecoration:"none",color:function(e){return e.palette.green.dark}},"& a:hover":{textDecoration:"underline"},"& a:visited":{color:function(e){return e.palette.green.dark}}}};function ze(e,n,t,i,a,r,o){try{var l=e[r](o),s=l.value}catch(d){return void t(d)}l.done?n(s):Promise.resolve(s).then(i,a)}function Be(e){return function(){var n=this,t=arguments;return new Promise((function(i,a){var r=e.apply(n,t);function o(e){ze(r,i,a,o,l,"next",e)}function l(e){ze(r,i,a,o,l,"throw",e)}o(void 0)}))}}function He(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ve=function(){var e=(0,he.I0)(),n=(0,o.useState)([]),t=n[0],a=n[1],r=(0,o.useState)(""),d=r[0],c=r[1],u=(0,o.useState)([]),v=u[0],f=u[1],j=(0,o.useState)({}),b=j[0],y=j[1],w=(0,o.useState)(!1),_=w[0],Z=w[1];(0,o.useEffect)((function(){e((0,ge.l)()).unwrap().then((function(e){e.length>0?f(e):(y({message:"No commodities available.",severity:"info"}),Z(!0),setTimeout((function(){y({}),Z(!1)}),2e3))})).catch((function(e){var n,t,i;y({message:(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||(null===e||void 0===e||null===(i=e.response)||void 0===i?void 0:i.data)||"Failed to update cropping calendar.",severity:"error"}),Z(!0),setTimeout((function(){y({}),Z(!1)}),2e3)}))}),[e]);var k=(0,he.v9)((function(e){return e.seasonalweather.status})),O=function(){a(t.map((function(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){He(e,n,t[n])}))}return e}({},e,{isValid:!1,value:""})})))};(0,o.useEffect)((function(){}));var S=function(){var e=Be(x().mark((function e(n){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Be(x().mark((function e(t,i){var a,r,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We(n,d);case 3:t(!0),e.next=13;break;case 6:e.prev=6,e.t0=e.catch(0),i(e.t0),y({message:(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.data)||"Failed to update cropping calendar.",severity:"error"}),Z(!0),setTimeout((function(){y({}),Z(!1)}),2e3);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Manage recommendations"})," by uploading Excel-formatted templates."]}),(0,i.jsxs)("p",{children:["Before uploading recommendations with data,"," ",(0,i.jsx)("strong",{children:"first download the template"})," of the respective crop you will add into the system."]}),(0,i.jsx)("br",{}),(0,i.jsxs)(ue.ZP,{container:!0,spacing:2,children:[(0,i.jsxs)(ue.ZP,{item:!0,xs:12,md:6,children:[(0,i.jsx)(l.Z,{variant:"h6",children:"List of Crop Recommendations and their Templates"}),(0,i.jsx)("br",{}),(0,i.jsxs)(l.Z,{variant:"body2",sx:Ae.subheader,children:[(0,i.jsx)("a",{href:(0,De.assetPrefixer)("files/".concat("rice_recommendations_v4.xlsx")),target:"__blank",children:"[Rice Recommendations Excel template]"}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("a",{href:(0,De.assetPrefixer)("files/".concat("corn_recommendations_v3.xlsx")),target:"__blank",children:"[Corn Recommendations Excel template]"})]})]}),(0,i.jsxs)(ue.ZP,{item:!0,xs:12,md:6,children:[(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"Upload Recommendations"})}),(0,i.jsx)(s.Z,{sx:{minWidth:120},children:(0,i.jsxs)(m.Z,{fullWidth:!0,children:[(0,i.jsx)(p.Z,{id:"demo-simple-select-label",children:"Crop Type"}),(0,i.jsx)(g.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d,label:"Crop Type",onChange:function(e){c(e.target.value)},children:v.map((function(e){return(0,i.jsx)(h.Z,{value:e.name,children:e.name},e.id)}))})]})}),(0,i.jsx)("br",{}),(0,i.jsxs)(ue.ZP,{item:!0,xs:12,children:[(0,i.jsx)(Le.Z,{label:"Upload an excel file",name:"excelfile",fileAccepts:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",isDisabled:k===Fe.G.PENDING||!d,fileUploadMethod:S,onFileSelectedCB:function(e){e||O()}}),(0,i.jsxs)(l.Z,{variant:"caption",children:["Please select ",(0,i.jsx)("strong",{children:"Crop Type"})," first before uploading a file."]})]})]})]}),_&&(0,i.jsx)(F.Z,{openSnackbar:!0,message:b.message,severity:b.severity,closeHandler:function(){Z(!1)}})]})};function Ue(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ge(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){Ue(e,n,t[n])}))}return e}function Xe(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var qe=function(){var e=function(e){var n=e.children,t=e.value,a=e.index,r=Xe(e,["children","value","index"]);return(0,i.jsx)("div",Ge({role:"tabpanel",hidden:t!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r,{children:t===a&&(0,i.jsx)(s.Z,{sx:{p:3,whiteSpace:e.smsstyle},children:n})}))},n=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},t=(0,o.useState)(0),a=t[0],r=t[1];return(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{variant:"h5",children:"Recommendations Management"}),(0,i.jsxs)(s.Z,{sx:{width:"100%",marginTop:{xs:"15px",lg:"25px"}},children:[(0,i.jsx)(s.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,i.jsxs)(c.Z,{value:a,onChange:function(e,n){r(n)},"aria-label":"basic tabs example",children:[(0,i.jsx)(d.Z,Ge({label:"MANAGE"},n(0))),(0,i.jsx)(d.Z,Ge({label:"UPLOAD"},n(1)))]})}),(0,i.jsx)(e,{value:a,index:0,smsstyle:"normal",children:(0,i.jsx)(be,{})}),(0,i.jsx)(e,{value:a,index:1,smsstyle:"normal",children:(0,i.jsx)(Ve,{})})]})]})};var Ye=(0,a.Z)((function(e){var n=e.loading,t=e.user,a=e.onBtnLogoutClick;return(0,i.jsx)(r.Z,{loading:n,user:t,onBtnLogoutClick:a,accLevel:O.DW.ADMIN,children:(0,i.jsx)(qe,{})})}))}},function(e){e.O(0,[5778,2702,8858,8333,6223,6279,8611,7944,7067,1433,6572,4343,7440,1050,2044,3278,9774,2888,179],(function(){return n=6762,e(e.s=n);var n}));var n=e.O();_N_E=n}]);