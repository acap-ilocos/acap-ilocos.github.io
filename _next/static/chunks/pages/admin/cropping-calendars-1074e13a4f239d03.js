(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3807],{87346:function(e,n,r){"use strict";var t=r(64836);n.Z=void 0;var i=t(r(64938)),a=r(85893),o=(0,i.default)([(0,a.jsx)("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm5 11.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z",opacity:".3"},"0"),(0,a.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"},"1")],"CancelTwoTone");n.Z=o},42701:function(e,n,r){"use strict";var t=r(64836);n.Z=void 0;var i=t(r(64938)),a=r(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchTwoTone");n.Z=o},95537:function(e,n,r){"use strict";var t=r(88169),i=r(85893);n.Z=(0,t.Z)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},61903:function(e,n,r){"use strict";r.d(n,{Z:function(){return E}});var t=r(87462),i=r(63366),a=r(67294),o=r(86010),l=r(27192),s=r(57579),c=r(11496),d=r(33616),u=r(79332),p=r(6135),f=r(57709),m=r(47312),h=r(94054),x=r(15704),v=r(74423),b=r(98216),g=r(28979),Z=r(76087);function j(e){return(0,g.Z)("MuiFormHelperText",e)}var y,w=(0,Z.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),C=r(85893);const F=["children","className","component","disabled","error","filled","focused","margin","required","variant"],P=(0,c.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:r}=e;return[n.root,r.size&&n[`size${(0,b.Z)(r.size)}`],r.contained&&n.contained,r.filled&&n.filled]}})((({theme:e,ownerState:n})=>(0,t.Z)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${w.disabled}`]:{color:e.palette.text.disabled},[`&.${w.error}`]:{color:e.palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})));var S=a.forwardRef((function(e,n){const r=(0,d.Z)({props:e,name:"MuiFormHelperText"}),{children:a,className:s,component:c="p"}=r,u=(0,i.Z)(r,F),p=(0,v.Z)(),f=(0,x.Z)({props:r,muiFormControl:p,states:["variant","size","disabled","error","filled","focused","required"]}),m=(0,t.Z)({},r,{component:c,contained:"filled"===f.variant||"outlined"===f.variant,variant:f.variant,size:f.size,disabled:f.disabled,error:f.error,filled:f.filled,focused:f.focused,required:f.required}),h=(e=>{const{classes:n,contained:r,size:t,disabled:i,error:a,filled:o,focused:s,required:c}=e,d={root:["root",i&&"disabled",a&&"error",t&&`size${(0,b.Z)(t)}`,r&&"contained",s&&"focused",o&&"filled",c&&"required"]};return(0,l.Z)(d,j,n)})(m);return(0,C.jsx)(P,(0,t.Z)({as:c,ownerState:m,className:(0,o.Z)(h.root,s),ref:n},u,{children:" "===a?y||(y=(0,C.jsx)("span",{className:"notranslate",children:"\u200b"})):a}))})),T=r(18360);function z(e){return(0,g.Z)("MuiTextField",e)}(0,Z.Z)("MuiTextField",["root"]);const k=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],R={standard:u.Z,filled:p.Z,outlined:f.Z},_=(0,c.ZP)(h.Z,{name:"MuiTextField",slot:"Root",overridesResolver:(e,n)=>n.root})({});var E=a.forwardRef((function(e,n){const r=(0,d.Z)({props:e,name:"MuiTextField"}),{autoComplete:a,autoFocus:c=!1,children:u,className:p,color:f="primary",defaultValue:h,disabled:x=!1,error:v=!1,FormHelperTextProps:b,fullWidth:g=!1,helperText:Z,id:j,InputLabelProps:y,inputProps:w,InputProps:F,inputRef:P,label:E,maxRows:O,minRows:M,multiline:N=!1,name:L,onBlur:W,onChange:I,onFocus:B,placeholder:H,required:q=!1,rows:D,select:A=!1,SelectProps:$,type:U,value:V,variant:G="outlined"}=r,X=(0,i.Z)(r,k),J=(0,t.Z)({},r,{autoFocus:c,color:f,disabled:x,error:v,fullWidth:g,multiline:N,required:q,select:A,variant:G}),K=(e=>{const{classes:n}=e;return(0,l.Z)({root:["root"]},z,n)})(J);const Q={};"outlined"===G&&(y&&"undefined"!==typeof y.shrink&&(Q.notched=y.shrink),Q.label=E),A&&($&&$.native||(Q.id=void 0),Q["aria-describedby"]=void 0);const Y=(0,s.Z)(j),ee=Z&&Y?`${Y}-helper-text`:void 0,ne=E&&Y?`${Y}-label`:void 0,re=R[G],te=(0,C.jsx)(re,(0,t.Z)({"aria-describedby":ee,autoComplete:a,autoFocus:c,defaultValue:h,fullWidth:g,multiline:N,name:L,rows:D,maxRows:O,minRows:M,type:U,value:V,id:Y,inputRef:P,onBlur:W,onChange:I,onFocus:B,placeholder:H,inputProps:w},Q,F));return(0,C.jsxs)(_,(0,t.Z)({className:(0,o.Z)(K.root,p),disabled:x,error:v,fullWidth:g,ref:n,required:q,color:f,variant:G,ownerState:J},X,{children:[null!=E&&""!==E&&(0,C.jsx)(m.Z,(0,t.Z)({htmlFor:Y,id:ne},y,{children:E})),A?(0,C.jsx)(T.Z,(0,t.Z)({"aria-describedby":ee,id:Y,labelId:ne,value:V,input:te},$,{children:u})):te,Z&&(0,C.jsx)(S,(0,t.Z)({id:ee},b,{children:Z}))]}))}))},95976:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/cropping-calendars",function(){return r(61781)}])},61781:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return M}});var t=r(85893),i=r(95243),a=r(66383),o=r(34051),l=r.n(o),s=r(67294),c=r(9473),d=r(15861),u=r(86886),p=r(40044),f=r(88409),m=r(87357),h=r(47312),x=r(18972),v=r(94054),b=r(18360),g=r(38881),Z=r(901),j=r(26660),y=r(93278),w={button:{color:"#FFFFFF",textTransform:"capitalize",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",width:"80px",height:{xs:"40px",sm:"48px"}},container:{padding:"24px",width:"100%",position:"relative",minWidth:"0px",overflowWrap:"break-word",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",borderRadius:"16px",margin:"auto",borderColor:"#E2E8F0"},tabsContainer:{marginTop:function(e){return e.spacing(8)},border:function(e){return"1px solid ".concat(e.palette.bacap.border)},minHeight:"800px",borderRadius:"8px",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px"},customizedButtonLink:{cursor:"pointer",color:"#8BC24A",textDecoration:"underline",fontWeight:600},subheader:{marginBottom:function(e){return e.spacing(3)},maxWidth:"800px",color:"gray","& a":{textDecoration:"none",color:function(e){return e.palette.green.dark}},"& a:hover":{textDecoration:"underline"},"& a:visited":{color:function(e){return e.palette.green.dark}}}},C=r(37647),F=r(71720),P=r(16327),S=r(55688);function T(e,n,r,t,i,a,o){try{var l=e[a](o),s=l.value}catch(c){return void r(c)}l.done?n(s):Promise.resolve(s).then(t,i)}function z(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var a=e.apply(n,r);function o(e){T(a,t,i,o,l,"next",e)}function l(e){T(a,t,i,o,l,"throw",e)}o(void 0)}))}}function k(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function R(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){k(e,n,r[n])}))}return e}function _(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var E=function(){var e=function(e){var n=e.children,r=e.value,i=e.index,a=_(e,["children","value","index"]);return(0,t.jsx)("div",R({role:"tabpanel",hidden:r!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},a,{children:r===i&&(0,t.jsx)(m.Z,{sx:{py:3},children:n})}))},n=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},r=(0,c.I0)(),i=(0,s.useState)([]),a=i[0],o=i[1],T=(0,s.useState)(""),k=T[0],E=T[1],O=(0,s.useState)([]),M=O[0],N=O[1],L=(0,s.useState)(0),W=L[0],I=L[1],B=(0,s.useState)(""),H=B[0],q=B[1],D=(0,s.useState)(null),A=D[0],$=D[1],U=(0,s.useState)(""),V=U[0],G=U[1],X=(0,s.useState)([]),J=X[0],K=X[1],Q=(0,s.useState)({}),Y=Q[0],ee=Q[1],ne=(0,s.useState)(!1),re=ne[0],te=ne[1],ie=(0,s.useState)([]),ae=ie[0],oe=ie[1],le=(0,s.useState)([]),se=le[0],ce=le[1];(0,s.useEffect)((function(){var e=function(){var e=z(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.$m)();case 2:n=e.sent,oe(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,s.useEffect)((function(){r((0,C.lR)()).unwrap().then((function(e){e.length>0&&(N(e),ee({message:"Commodities fetched successfully",severity:"info"}),te(!0))})).catch((function(e){ee({message:null===e||void 0===e?void 0:e.message,severity:"error"}),te(!0),setTimeout((function(){ee({message:"",severity:""})}),3e3)}))}),[r]);var de=(0,c.v9)((function(e){return e.seasonalweather.status})),ue=function(){var e=z(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=z(l().mark((function e(r,t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,g.c)(n,k);case 3:r(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){H&&M.find((function(e){e.name===H&&K(e.phases)}))}),[H,M]),(0,t.jsxs)(m.Z,{sx:{height:"auto"},children:[(0,t.jsx)(d.Z,{variant:"h5",children:"Cropping Calendar Management"}),(0,t.jsxs)(m.Z,{sx:{width:"100%"},children:[(0,t.jsx)(m.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,t.jsxs)(f.Z,{value:W,onChange:function(e,n){I(n)},"aria-label":"basic tabs example",children:[(0,t.jsx)(p.Z,R({label:"UI CALENDAR"},n(0))),(0,t.jsx)(p.Z,R({label:"EXCEL UPLOAD"},n(1)))]})}),(0,t.jsx)(e,{value:W,index:0,children:A&&""!==V?(0,t.jsx)(m.Z,{children:(0,t.jsx)(F.Z,{phases:J,commodityData:A,province:V,municipalityGroup:se,onClearParams:function(){q(""),G(""),$(null)}})}):(0,t.jsxs)(m.Z,{sx:{textAlign:"start",minHeight:"60vh",maxHeight:"60vh"},children:[(0,t.jsxs)(d.Z,{children:[" ",(0,t.jsx)("strong",{children:"Manage cropping calendars"})," using a drag-and-drop styled interface."]}),(0,t.jsx)(d.Z,{sx:{py:2},variant:"subtitle2",children:"please select a commodity and a province to continue"}),(0,t.jsxs)(u.ZP,{sx:{display:"flex",gap:2},children:[(0,t.jsx)(m.Z,{sx:{width:"25%"},children:(0,t.jsxs)(v.Z,{fullWidth:!0,size:"small",children:[(0,t.jsx)(h.Z,{id:"demo-simple-select-label",children:"Commodity"}),(0,t.jsx)(b.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:H,label:"Crop Type",onChange:function(e){var n=e.target.value;q(n),M.find((function(e){e.name===n&&($(e),K(e.phases))}))},children:M.map((function(e){return(0,t.jsxs)(x.Z,{value:e.name,children:[e.name,e.tagalog_name?" / ".concat(e.tagalog_name):""]},e.name)}))})]})}),(0,t.jsx)(m.Z,{sx:{width:"25%"},children:(0,t.jsxs)(v.Z,{fullWidth:!0,size:"small",disabled:!H,children:[(0,t.jsx)(h.Z,{id:"demo-simple-select-label",children:"Province"}),(0,t.jsx)(b.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:V,label:"Province",onChange:function(e){var n=ae.find((function(n){return n.label===e.target.value}));ce((null===n||void 0===n?void 0:n.municipalities)||[]),G(e.target.value)},children:ae.map((function(e){return(0,t.jsx)(x.Z,{value:e.label,children:e.label},e.label)}))})]})})]})]})}),(0,t.jsx)(e,{value:W,index:1,children:(0,t.jsxs)(m.Z,{sx:{minHeight:"60vh",maxHeight:"60vh"},children:[(0,t.jsxs)(d.Z,{children:[" ",(0,t.jsx)("strong",{children:"Manage cropping calendars"})," by uploading Excel-formatted templates."]}),(0,t.jsxs)("p",{children:["Before uploading cropping calendars with data, ",(0,t.jsx)("strong",{children:"first download the template"})," of the respective crop you will add into the system."]}),(0,t.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,t.jsxs)(u.ZP,{item:!0,xs:12,md:6,children:[(0,t.jsx)(d.Z,{variant:"h6",children:"List of Crop Types and their Templates"}),(0,t.jsx)("br",{}),(0,t.jsxs)(d.Z,{variant:"body2",sx:w.subheader,children:[(0,t.jsx)("a",{href:(0,j.assetPrefixer)("files/".concat("rice_cropping_calendar.xlsx")),target:"__blank",children:"[Rice Cropping Calendar Excel template]"}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("a",{href:(0,j.assetPrefixer)("files/".concat("corn_cropping_calendar.xlsx")),target:"__blank",children:"[Corn Cropping Calendar Excel template]"})]})]}),(0,t.jsxs)(u.ZP,{item:!0,xs:12,md:6,children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"Upload Cropping Calendar"})}),(0,t.jsx)(m.Z,{sx:{minWidth:120},children:(0,t.jsxs)(v.Z,{fullWidth:!0,children:[(0,t.jsx)(h.Z,{id:"demo-simple-select-label",children:"Crop Type"}),(0,t.jsx)(b.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:k,label:"Crop Type",onChange:function(e){E(e.target.value)},children:M.map((function(e){return(0,t.jsx)(x.Z,{value:e.name,children:e.name},e.name)}))})]})}),(0,t.jsx)("br",{}),(0,t.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,t.jsx)(y.Z,{label:"Upload an excel file",name:"excelfile",fileAccepts:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",isDisabled:de===Z.G.PENDING||!k,fileUploadMethod:ue,onFileSelectedCB:function(e){e||o(a.map((function(e){return R({},e,{isValid:!1,value:""})})))}}),(0,t.jsxs)(d.Z,{variant:"caption",children:["Please select ",(0,t.jsx)("strong",{children:"Crop Type"})," first before uploading a file."]})]})]})]})]})}),re&&(0,t.jsx)(S.Z,{openSnackbar:!0,message:Y.message,severity:Y.severity,closeHandler:function(){te(!1)}})]})]})},O=r(47426);var M=(0,i.Z)((function(e){var n=e.loading,r=e.user,i=e.onBtnLogoutClick;return(0,t.jsx)(a.Z,{loading:n,user:r,onBtnLogoutClick:i,accLevel:O.DW.ADMIN,children:(0,t.jsx)(E,{})})}))}},function(e){e.O(0,[5778,2702,8858,8333,6223,6279,4597,7944,1433,6572,4639,1050,3278,1720,9774,2888,179],(function(){return n=95976,e(e.s=n);var n}));var n=e.O();_N_E=n}]);